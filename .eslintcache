[{"/home/project/photobook/photobook_front/src/index.tsx":"1","/home/project/photobook/photobook_front/src/reportWebVitals.ts":"2","/home/project/photobook/photobook_front/src/config.ts":"3","/home/project/photobook/photobook_front/src/app/index.tsx":"4","/home/project/photobook/photobook_front/src/redux/store.ts":"5","/home/project/photobook/photobook_front/src/redux/actions/auth.ts":"6","/home/project/photobook/photobook_front/src/language/index.tsx":"7","/home/project/photobook/photobook_front/src/route/index.tsx":"8","/home/project/photobook/photobook_front/src/redux/actions/types.ts":"9","/home/project/photobook/photobook_front/src/redux/reducers/index.ts":"10","/home/project/photobook/photobook_front/src/api/index.tsx":"11","/home/project/photobook/photobook_front/src/redux/reducers/settings.ts":"12","/home/project/photobook/photobook_front/src/redux/reducers/auth.ts":"13","/home/project/photobook/photobook_front/src/redux/reducers/image.ts":"14","/home/project/photobook/photobook_front/src/pages/editor/editor.tsx":"15","/home/project/photobook/photobook_front/src/components/index.tsx":"16","/home/project/photobook/photobook_front/src/pages/redirect/index.tsx":"17","/home/project/photobook/photobook_front/src/pages/landing/index.tsx":"18","/home/project/photobook/photobook_front/src/pages/auth/signup/index.tsx":"19","/home/project/photobook/photobook_front/src/pages/errors/index.tsx":"20","/home/project/photobook/photobook_front/src/pages/auth/login/index.tsx":"21","/home/project/photobook/photobook_front/src/pages/product/frame/index.tsx":"22","/home/project/photobook/photobook_front/src/pages/product/canvas/index.tsx":"23","/home/project/photobook/photobook_front/src/pages/product/photobook/index.tsx":"24","/home/project/photobook/photobook_front/src/pages/product/frame/template/index.tsx":"25","/home/project/photobook/photobook_front/src/pages/product/canvas/template/index.tsx":"26","/home/project/photobook/photobook_front/src/pages/product/photobook/template/index.tsx":"27","/home/project/photobook/photobook_front/src/pages/profile/index.tsx":"28","/home/project/photobook/photobook_front/src/pages/editor/components/preview.tsx":"29","/home/project/photobook/photobook_front/src/pages/editor/components/utils/index.ts":"30","/home/project/photobook/photobook_front/src/pages/editor/components/layout/index.ts":"31","/home/project/photobook/photobook_front/src/pages/errors/403.tsx":"32","/home/project/photobook/photobook_front/src/pages/errors/404.tsx":"33","/home/project/photobook/photobook_front/src/components/grid-dnd/index.tsx":"34","/home/project/photobook/photobook_front/src/components/button/index.tsx":"35","/home/project/photobook/photobook_front/src/utils/index.tsx":"36","/home/project/photobook/photobook_front/src/pages/editor/components/utils/editor/index.ts":"37","/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/index.ts":"38","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/index.ts":"39","/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/index.tsx":"40","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/index.tsx":"41","/home/project/photobook/photobook_front/src/pages/editor/components/layout/header/index.tsx":"42","/home/project/photobook/photobook_front/src/pages/editor/components/layout/footer/index.tsx":"43","/home/project/photobook/photobook_front/src/components/grid-dnd/withReactToItemsChange/withReactToItemsChange.tsx":"44","/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/withMaxItems.tsx":"45","/home/project/photobook/photobook_front/src/page-components/profile/my-info/index.tsx":"46","/home/project/photobook/photobook_front/src/page-components/profile/my-cart/index.tsx":"47","/home/project/photobook/photobook_front/src/page-components/profile/my-projects/index.tsx":"48","/home/project/photobook/photobook_front/src/page-components/profile/order-history/index.tsx":"49","/home/project/photobook/photobook_front/src/layouts/main/components/width-limiter/index.tsx":"50","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/side-buttons.tsx":"51","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/background-images.tsx":"52","/home/project/photobook/photobook_front/src/pages/editor/components/layout/footer/slide.tsx":"53","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/upload-photos-group.tsx":"54","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/layouts.tsx":"55","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/frames.tsx":"56","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/masks.tsx":"57","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/cliparts.tsx":"58","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/backgrounds.tsx":"59","/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/images.tsx":"60","/home/project/photobook/photobook_front/src/utils/dnd.ts":"61","/home/project/photobook/photobook_front/src/redux/actions/project.ts":"62","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/settings.tsx":"63","/home/project/photobook/photobook_front/src/utils/aws-lib.ts":"64","/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/index.tsx":"65","/home/project/photobook/photobook_front/src/hooks/index.tsx":"66","/home/project/photobook/photobook_front/src/components/input/index.tsx":"67","/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/computeOriginalIndex.tsx":"68","/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/splitItems.tsx":"69","/home/project/photobook/photobook_front/src/utils/transformer-lib.ts":"70","/home/project/photobook/photobook_front/src/hooks/useWindow.tsx":"71","/home/project/photobook/photobook_front/src/hooks/useQuery.tsx":"72","/home/project/photobook/photobook_front/src/components/spinner/index.tsx":"73","/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/shape.tsx":"74","/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/image.tsx":"75","/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/text.tsx":"76","/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/render-object.tsx":"77","/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/render-background.tsx":"78","/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/background.tsx":"79","/home/project/photobook/photobook_front/src/redux/actions/editor.ts":"80","/home/project/photobook/photobook_front/src/redux/actions/image.ts":"81","/home/project/photobook/photobook_front/src/components/grid-dnd/DragAndDropWrapper/DragAndDropWrapper.tsx":"82","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/index.tsx":"83","/home/project/photobook/photobook_front/src/components/grid-dnd/DragAndDropWrapper/ListManagerItem.tsx":"84","/home/project/photobook/photobook_front/src/components/card-table/generateColumn.tsx":"85","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/shape-toolbar.tsx":"86","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/image-toolbar.tsx":"87","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/text-toolbar.tsx":"88","/home/project/photobook/photobook_front/src/components/canvas-layout-options/index.tsx":"89","/home/project/photobook/photobook_front/src/components/photobook-layout-options/index.tsx":"90","/home/project/photobook/photobook_front/src/components/cards/index.tsx":"91","/home/project/photobook/photobook_front/src/components/categories/index.tsx":"92","/home/project/photobook/photobook_front/src/components/product-list/index.tsx":"93","/home/project/photobook/photobook_front/src/components/product-wrapper/index.tsx":"94","/home/project/photobook/photobook_front/src/components/frame-layout-options/index.tsx":"95","/home/project/photobook/photobook_front/src/components/card-table/index.tsx":"96","/home/project/photobook/photobook_front/src/components/promp_layout/index.tsx":"97","/home/project/photobook/photobook_front/src/components/prompt/index.tsx":"98","/home/project/photobook/photobook_front/src/components/form-modal/index.tsx":"99","/home/project/photobook/photobook_front/src/components/loading/index.tsx":"100","/home/project/photobook/photobook_front/src/components/empty/index.tsx":"101","/home/project/photobook/photobook_front/src/components/router/index.tsx":"102","/home/project/photobook/photobook_front/src/page-components/landing-page/index.ts":"103","/home/project/photobook/photobook_front/src/components/card-table/settings.tsx":"104","/home/project/photobook/photobook_front/src/page-components/landing-page/social-proof/index.tsx":"105","/home/project/photobook/photobook_front/src/page-components/landing-page/features/index.tsx":"106","/home/project/photobook/photobook_front/src/page-components/landing-page/image-carousel/index.tsx":"107","/home/project/photobook/photobook_front/src/page-components/landing-page/hero/index.tsx":"108","/home/project/photobook/photobook_front/src/page-components/landing-page/show-case-products/index.tsx":"109","/home/project/photobook/photobook_front/src/configs/index.tsx":"110","/home/project/photobook/photobook_front/src/redux/reducers/editor.ts":"111","/home/project/photobook/photobook_front/src/redux/reducers/project.ts":"112","/home/project/photobook/photobook_front/src/redux/reducers/handlers.ts":"113","/home/project/photobook/photobook_front/src/layouts/index.tsx":"114","/home/project/photobook/photobook_front/src/pages/not-found/index.tsx":"115","/home/project/photobook/photobook_front/src/layouts/main/index.tsx":"116","/home/project/photobook/photobook_front/src/layouts/public/index.tsx":"117","/home/project/photobook/photobook_front/src/layouts/main/footer.tsx":"118","/home/project/photobook/photobook_front/src/layouts/main/header.tsx":"119","/home/project/photobook/photobook_front/src/layouts/main/components/index.tsx":"120","/home/project/photobook/photobook_front/src/layouts/main/components/HeaderMenu/index.tsx":"121","/home/project/photobook/photobook_front/src/layouts/main/components/language-switch/index.tsx":"122","/home/project/photobook/photobook_front/src/layouts/main/components/user-info/index.tsx":"123","/home/project/photobook/photobook_front/src/pages/editor/components/layout/upload-modal/index.tsx":"124"},{"size":659,"mtime":1621310824840,"results":"125","hashOfConfig":"126"},{"size":416,"mtime":1621236366447,"results":"127","hashOfConfig":"126"},{"size":237,"mtime":1621236366447,"results":"128","hashOfConfig":"126"},{"size":546,"mtime":1621236366447,"results":"129","hashOfConfig":"126"},{"size":535,"mtime":1621305274230,"results":"130","hashOfConfig":"126"},{"size":2269,"mtime":1621477665895,"results":"131","hashOfConfig":"126"},{"size":1113,"mtime":1621236366447,"results":"132","hashOfConfig":"126"},{"size":3531,"mtime":1621493739385,"results":"133","hashOfConfig":"126"},{"size":2668,"mtime":1621569288630,"results":"134","hashOfConfig":"126"},{"size":519,"mtime":1621238503757,"results":"135","hashOfConfig":"126"},{"size":21711,"mtime":1621498131425,"results":"136","hashOfConfig":"126"},{"size":1035,"mtime":1621238516027,"results":"137","hashOfConfig":"126"},{"size":1605,"mtime":1621236366457,"results":"138","hashOfConfig":"126"},{"size":963,"mtime":1621569289860,"results":"139","hashOfConfig":"126"},{"size":23896,"mtime":1621397215680,"results":"140","hashOfConfig":"126"},{"size":1015,"mtime":1621482834355,"results":"141","hashOfConfig":"126"},{"size":1095,"mtime":1621493330885,"results":"142","hashOfConfig":"126"},{"size":2561,"mtime":1621309000460,"results":"143","hashOfConfig":"126"},{"size":2007,"mtime":1621305644720,"results":"144","hashOfConfig":"126"},{"size":93,"mtime":1621236366447,"results":"145","hashOfConfig":"126"},{"size":2947,"mtime":1621477665895,"results":"146","hashOfConfig":"126"},{"size":2359,"mtime":1621306842590,"results":"147","hashOfConfig":"126"},{"size":2363,"mtime":1621237615717,"results":"148","hashOfConfig":"126"},{"size":2394,"mtime":1621305560890,"results":"149","hashOfConfig":"126"},{"size":3428,"mtime":1621305634440,"results":"150","hashOfConfig":"126"},{"size":4087,"mtime":1621236366457,"results":"151","hashOfConfig":"126"},{"size":4904,"mtime":1621236366457,"results":"152","hashOfConfig":"126"},{"size":2848,"mtime":1621477665895,"results":"153","hashOfConfig":"126"},{"size":5105,"mtime":1621237728217,"results":"154","hashOfConfig":"126"},{"size":70,"mtime":1621237728217,"results":"155","hashOfConfig":"126"},{"size":208,"mtime":1621237728207,"results":"156","hashOfConfig":"126"},{"size":498,"mtime":1621236366447,"results":"157","hashOfConfig":"126"},{"size":493,"mtime":1621236366447,"results":"158","hashOfConfig":"126"},{"size":463,"mtime":1621238229007,"results":"159","hashOfConfig":"126"},{"size":510,"mtime":1621397519200,"results":"160","hashOfConfig":"126"},{"size":3804,"mtime":1621585727770,"results":"161","hashOfConfig":"126"},{"size":70056,"mtime":1621587598500,"results":"162","hashOfConfig":"126"},{"size":177,"mtime":1621237728217,"results":"163","hashOfConfig":"126"},{"size":169,"mtime":1621237728197,"results":"164","hashOfConfig":"126"},{"size":127,"mtime":1621237728207,"results":"165","hashOfConfig":"126"},{"size":8912,"mtime":1621576791043,"results":"166","hashOfConfig":"126"},{"size":4434,"mtime":1621397233340,"results":"167","hashOfConfig":"126"},{"size":10666,"mtime":1621590018900,"results":"168","hashOfConfig":"126"},{"size":404,"mtime":1621239304517,"results":"169","hashOfConfig":"126"},{"size":2909,"mtime":1621239304487,"results":"170","hashOfConfig":"126"},{"size":6404,"mtime":1621477665895,"results":"171","hashOfConfig":"126"},{"size":114,"mtime":1621477665895,"results":"172","hashOfConfig":"126"},{"size":2294,"mtime":1621477665895,"results":"173","hashOfConfig":"126"},{"size":2721,"mtime":1621477665895,"results":"174","hashOfConfig":"126"},{"size":289,"mtime":1621236366447,"results":"175","hashOfConfig":"126"},{"size":3691,"mtime":1621237728197,"results":"176","hashOfConfig":"126"},{"size":9026,"mtime":1621237728197,"results":"177","hashOfConfig":"126"},{"size":3307,"mtime":1621237728207,"results":"178","hashOfConfig":"126"},{"size":2874,"mtime":1621580536870,"results":"179","hashOfConfig":"126"},{"size":3057,"mtime":1621237728217,"results":"180","hashOfConfig":"126"},{"size":942,"mtime":1621237728207,"results":"181","hashOfConfig":"126"},{"size":939,"mtime":1621237728217,"results":"182","hashOfConfig":"126"},{"size":947,"mtime":1621237728207,"results":"183","hashOfConfig":"126"},{"size":1882,"mtime":1621237728207,"results":"184","hashOfConfig":"126"},{"size":10038,"mtime":1621591474230,"results":"185","hashOfConfig":"126"},{"size":1308,"mtime":1621238289137,"results":"186","hashOfConfig":"126"},{"size":10813,"mtime":1621395938660,"results":"187","hashOfConfig":"126"},{"size":2962,"mtime":1621237728197,"results":"188","hashOfConfig":"126"},{"size":3341,"mtime":1621576781363,"results":"189","hashOfConfig":"126"},{"size":135,"mtime":1621238229007,"results":"190","hashOfConfig":"126"},{"size":100,"mtime":1621239047307,"results":"191","hashOfConfig":"126"},{"size":950,"mtime":1621237858187,"results":"192","hashOfConfig":"126"},{"size":432,"mtime":1621238229007,"results":"193","hashOfConfig":"126"},{"size":863,"mtime":1621238229007,"results":"194","hashOfConfig":"126"},{"size":12761,"mtime":1621238289137,"results":"195","hashOfConfig":"126"},{"size":562,"mtime":1621239042247,"results":"196","hashOfConfig":"126"},{"size":103,"mtime":1621236366457,"results":"197","hashOfConfig":"126"},{"size":234,"mtime":1621236366447,"results":"198","hashOfConfig":"126"},{"size":469,"mtime":1621237728207,"results":"199","hashOfConfig":"126"},{"size":5970,"mtime":1621237728207,"results":"200","hashOfConfig":"126"},{"size":813,"mtime":1621237728207,"results":"201","hashOfConfig":"126"},{"size":2110,"mtime":1621237728227,"results":"202","hashOfConfig":"126"},{"size":523,"mtime":1621237728227,"results":"203","hashOfConfig":"126"},{"size":961,"mtime":1621304050750,"results":"204","hashOfConfig":"126"},{"size":729,"mtime":1621238423657,"results":"205","hashOfConfig":"126"},{"size":1637,"mtime":1621576128863,"results":"206","hashOfConfig":"126"},{"size":2597,"mtime":1621305351970,"results":"207","hashOfConfig":"126"},{"size":3778,"mtime":1621237728197,"results":"208","hashOfConfig":"126"},{"size":936,"mtime":1621305359550,"results":"209","hashOfConfig":"126"},{"size":1427,"mtime":1621236366447,"results":"210","hashOfConfig":"126"},{"size":2458,"mtime":1621237728197,"results":"211","hashOfConfig":"126"},{"size":14253,"mtime":1621237728197,"results":"212","hashOfConfig":"126"},{"size":12176,"mtime":1621237728197,"results":"213","hashOfConfig":"126"},{"size":2991,"mtime":1621305729430,"results":"214","hashOfConfig":"126"},{"size":7777,"mtime":1621393183840,"results":"215","hashOfConfig":"126"},{"size":905,"mtime":1621236366447,"results":"216","hashOfConfig":"126"},{"size":1501,"mtime":1621239418377,"results":"217","hashOfConfig":"126"},{"size":1734,"mtime":1621313539100,"results":"218","hashOfConfig":"126"},{"size":443,"mtime":1621236366447,"results":"219","hashOfConfig":"126"},{"size":3093,"mtime":1621477665885,"results":"220","hashOfConfig":"126"},{"size":14942,"mtime":1621236366447,"results":"221","hashOfConfig":"126"},{"size":2164,"mtime":1621305567650,"results":"222","hashOfConfig":"126"},{"size":2705,"mtime":1621236366447,"results":"223","hashOfConfig":"126"},{"size":2682,"mtime":1621236366447,"results":"224","hashOfConfig":"126"},{"size":438,"mtime":1621236366447,"results":"225","hashOfConfig":"126"},{"size":193,"mtime":1621236366447,"results":"226","hashOfConfig":"126"},{"size":708,"mtime":1621236366447,"results":"227","hashOfConfig":"126"},{"size":273,"mtime":1621239305587,"results":"228","hashOfConfig":"126"},{"size":3036,"mtime":1621236366447,"results":"229","hashOfConfig":"126"},{"size":2035,"mtime":1621236366447,"results":"230","hashOfConfig":"126"},{"size":1067,"mtime":1621309098290,"results":"231","hashOfConfig":"126"},{"size":821,"mtime":1621309058480,"results":"232","hashOfConfig":"126"},{"size":793,"mtime":1621308964870,"results":"233","hashOfConfig":"126"},{"size":1469,"mtime":1621477665895,"results":"234","hashOfConfig":"126"},{"size":490,"mtime":1621236366427,"results":"235","hashOfConfig":"126"},{"size":1016,"mtime":1621238484727,"results":"236","hashOfConfig":"126"},{"size":6406,"mtime":1621395522540,"results":"237","hashOfConfig":"126"},{"size":14448,"mtime":1621238490287,"results":"238","hashOfConfig":"126"},{"size":1109,"mtime":1621334873960,"results":"239","hashOfConfig":"126"},{"size":115,"mtime":1621236366447,"results":"240","hashOfConfig":"126"},{"size":434,"mtime":1621236366447,"results":"241","hashOfConfig":"126"},{"size":330,"mtime":1621236366447,"results":"242","hashOfConfig":"126"},{"size":1161,"mtime":1621477665895,"results":"243","hashOfConfig":"126"},{"size":1435,"mtime":1621477665895,"results":"244","hashOfConfig":"126"},{"size":112,"mtime":1621236366447,"results":"245","hashOfConfig":"126"},{"size":7070,"mtime":1621477665895,"results":"246","hashOfConfig":"126"},{"size":1695,"mtime":1621236366447,"results":"247","hashOfConfig":"126"},{"size":1629,"mtime":1621477665895,"results":"248","hashOfConfig":"126"},{"size":8720,"mtime":1621573981133,"results":"249","hashOfConfig":"126"},{"filePath":"250","messages":"251","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},"n248tu",{"filePath":"253","messages":"254","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"255","messages":"256","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"257","messages":"258","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"261","messages":"262","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"263","usedDeprecatedRules":"252"},{"filePath":"264","messages":"265","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"266","messages":"267","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"268","messages":"269","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"270","messages":"271","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"272","messages":"273","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"274","messages":"275","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"276","messages":"277","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"278","messages":"279","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"280","messages":"281","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"282","usedDeprecatedRules":"252"},{"filePath":"283","messages":"284","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"285","messages":"286","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"287","messages":"288","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"289","messages":"290","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"291","messages":"292","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"295","messages":"296","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"297","messages":"298","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"299","messages":"300","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"301","messages":"302","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"303","messages":"304","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"305","messages":"306","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"307","messages":"308","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"309","messages":"310","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"311","messages":"312","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"313","messages":"314","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"315","messages":"316","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"317","messages":"318","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"319","messages":"320","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"321","messages":"322","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"323","messages":"324","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"325","messages":"326","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"327","messages":"328","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"329","messages":"330","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"331","messages":"332","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"333","messages":"334","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"335","usedDeprecatedRules":"252"},{"filePath":"336","messages":"337","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"338","messages":"339","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"340","messages":"341","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"342","messages":"343","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"344","messages":"345","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"346","messages":"347","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"348","messages":"349","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"350","messages":"351","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"352","messages":"353","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"354","messages":"355","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"356","messages":"357","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"358","messages":"359","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"360","messages":"361","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"362","messages":"363","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"364","messages":"365","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"366","messages":"367","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"368","messages":"369","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"370","messages":"371","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"372","messages":"373","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"374","messages":"375","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"376","messages":"377","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"378","usedDeprecatedRules":"252"},{"filePath":"379","messages":"380","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"381","messages":"382","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"383","usedDeprecatedRules":"252"},{"filePath":"384","messages":"385","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"386","messages":"387","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"388","messages":"389","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"390","messages":"391","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"392","messages":"393","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"394","messages":"395","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"396","messages":"397","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"398","messages":"399","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"400","messages":"401","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"402","messages":"403","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"404","messages":"405","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"406","messages":"407","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"408","messages":"409","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"410","messages":"411","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"412","messages":"413","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"414","messages":"415","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"416","messages":"417","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"418","usedDeprecatedRules":"252"},{"filePath":"419","messages":"420","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"421","messages":"422","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"423","messages":"424","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"425","messages":"426","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"427","messages":"428","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"429","messages":"430","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"431","messages":"432","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"433","messages":"434","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"435","messages":"436","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"437","messages":"438","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"439","messages":"440","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"441","messages":"442","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"443","messages":"444","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"445","messages":"446","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"447","messages":"448","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"449","messages":"450","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"451","messages":"452","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"453","messages":"454","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"455","messages":"456","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"457","messages":"458","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"459","messages":"460","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"461","messages":"462","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"463","messages":"464","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"465","messages":"466","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"467","messages":"468","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"469","messages":"470","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"471","messages":"472","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"473","messages":"474","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"475","messages":"476","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"477","messages":"478","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"479","messages":"480","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"481","messages":"482","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"483","usedDeprecatedRules":"252"},{"filePath":"484","messages":"485","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"486","messages":"487","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"488","messages":"489","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"490","messages":"491","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"492","messages":"493","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"494","messages":"495","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"496","messages":"497","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"498","messages":"499","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"500","messages":"501","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"252"},{"filePath":"502","messages":"503","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"504","usedDeprecatedRules":"252"},{"filePath":"505","messages":"506","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"507","usedDeprecatedRules":"252"},"/home/project/photobook/photobook_front/src/index.tsx",[],["508","509","510","511","512"],"/home/project/photobook/photobook_front/src/reportWebVitals.ts",[],"/home/project/photobook/photobook_front/src/config.ts",[],"/home/project/photobook/photobook_front/src/app/index.tsx",[],"/home/project/photobook/photobook_front/src/redux/store.ts",[],"/home/project/photobook/photobook_front/src/redux/actions/auth.ts",["513","514","515","516","517","518","519","520"],"import axios from 'axios'\nimport { Auth } from 'aws-amplify'\nimport { Dispatch } from 'redux'\nimport { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT } from './types'\nimport { getCurrentUser, signIn } from '../../api'\n\n// Load User\nexport const loadUser = (): any => async (dispatch: Dispatch) => {\n  try {\n    const user = await getCurrentUser()\n    if (user) {\n      dispatch({\n        type: USER_LOADED,\n        payload: user?.data.user,\n      })\n    } else {\n      dispatch({\n        type: LOGIN_FAIL,\n      })\n    }\n    // }\n  } catch (err) {\n    console.log('error : ')\n    console.log(err)\n    dispatch({\n      type: AUTH_ERROR,\n    })\n  }\n}\n\n// Register user\nexport const register =\n  ({ name, email, password }: { name: string; email: string; password: string }) =>\n  async (dispatch: Dispatch) => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n\n    const body = JSON.stringify({ name, email, password })\n\n    try {\n      const res = await axios.post('/api/users', body, config)\n\n      dispatch({\n        type: REGISTER_SUCCESS,\n        payload: res.data,\n      })\n\n      dispatch(loadUser())\n    } catch (err) {\n      const { errors } = err.response.data\n\n      if (errors) {\n        console.log('error')\n        console.log(errors)\n      }\n\n      dispatch({\n        type: REGISTER_FAIL,\n      })\n    }\n  }\n\n// Login user\nexport const loginUser = (email: string, password: string) => async (dispatch: any) => {\n  try {\n    // const user = await Auth.signIn(email, password)\n    const user = await signIn(email, password)\n\n    if (user?.data) {\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: user,\n      })\n    } else {\n      dispatch({\n        type: LOGIN_FAIL,\n      })\n    }\n  } catch (err) {\n    const { errors } = err.response.data\n\n    if (errors) {\n      console.log('error')\n      console.log(errors)\n    }\n\n    dispatch({\n      type: LOGIN_FAIL,\n    })\n  }\n}\n\n// Logout / Clear Profile\nexport const logout = (history: any) => async (dispatch: Dispatch) => {\n  try {\n    // dispatch({\n    //   type: CLEAR_PROFILE,\n    // })\n    dispatch({\n      type: LOGOUT,\n    })\n\n    history.push('/')\n  } catch (error) {\n    console.log(error)\n  }\n}\n","/home/project/photobook/photobook_front/src/language/index.tsx",[],"/home/project/photobook/photobook_front/src/route/index.tsx",[],"/home/project/photobook/photobook_front/src/redux/actions/types.ts",[],"/home/project/photobook/photobook_front/src/redux/reducers/index.ts",[],"/home/project/photobook/photobook_front/src/api/index.tsx",[],"/home/project/photobook/photobook_front/src/redux/reducers/settings.ts",[],"/home/project/photobook/photobook_front/src/redux/reducers/auth.ts",[],"/home/project/photobook/photobook_front/src/redux/reducers/image.ts",[],"/home/project/photobook/photobook_front/src/pages/editor/editor.tsx",["521","522","523","524","525","526","527","528","529","530"],"/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable consistent-return */\nimport React, { useState, useEffect, useRef, useMemo } from 'react'\nimport { useHotkeys } from 'react-hotkeys-hook'\nimport { useQueryState } from 'react-router-use-location-state'\nimport { connect } from 'react-redux'\nimport {\n  getProjects as _getProjects,\n  saveProject as _saveProject,\n  saveProjectAttribute as _saveProjectAttribute,\n  addNewSlide as _addNewSlide,\n  deleteSlide as _deleteSlide,\n  updateHistory as _updateHistory,\n  addLayout as _addLayout,\n  addObject as _addObject,\n  removeObject as _removeObject,\n  loadObjects as _loadObjects,\n  loadContainers as _loadContainers,\n  loadBackgrounds as _loadBackgrounds,\n  updateContainer as _updateContainer,\n  updateGroupContainer as _updateGroupContainer,\n  updateBackground as _updateBackground,\n  updateObject as _updateObject,\n  setBackgrounds as _setBackgrounds,\n  duplicateSlide as _duplicateSlide,\n  reOrderSlide as _reOrderSlide,\n} from 'redux/actions/project'\n\nimport {\n  BackgroundImage,\n  Container,\n  EditorInterface,\n  FullLayout,\n  HistoryProps,\n  ObjectType,\n  PObject,\n  ProjectInterface,\n  RootInterface,\n  Slide,\n} from 'interfaces'\nimport Spinner from 'components/spinner'\nimport { debounce } from 'utils'\n\nimport { useBoolean } from 'ahooks'\nimport { Header, BackgroundImages, FooterListTools, SideButtons, SideBarPanel, Toolbar } from './components/layout'\nimport Preview from './components/preview'\nimport { Editor, renderBackground, renderObject } from './components/utils'\nimport './components/styles/editor.scss'\n\ninterface Props {\n  getProjects: (id: number, paperSizeId: number, project: string) => Promise<string | undefined>\n  saveProject: (projectId: number, updatedSlide: Slide, slideIndex: number) => void\n  addNewSlide: (slideIndex: number, projectId: number) => Promise<void>\n  duplicateSlide: (projectId: number, slideIndex: number, duplicatedSlide: Slide) => Promise<void>\n  deleteSlide: (projectId: number, slideIndex: number) => Promise<void>\n  reOrderSlide: (projectId: number, slides: Slide[]) => Promise<void>\n  editor: EditorInterface\n  project: ProjectInterface\n  loadObjects: (objects: PObject[]) => void\n  loadContainers: (containers: Container[]) => void\n  updateContainer: (props: { container: Object }) => void\n  updateGroupContainer: (props: { containers: Container[] }) => void\n  updateBackground: (props: { background: BackgroundImage }) => void\n  saveProjectAttribute: (projectId: number, props: Object) => void\n  updateObject: (props: { object: PObject }) => void\n  updateHistory: (historyType: string, props: HistoryProps) => void\n  setBackgrounds: (props: { backgrounds: BackgroundImage[] }) => void\n  loadBackgrounds: (backgrounds: Object[]) => void\n  addLayout: (props: { objects: Object[]; layout: FullLayout }) => void\n  addObject: (props: { object: Object }) => void\n  removeObject: (props: { object: Object; container: Object }) => void\n}\n\nconst BookEditor: React.FC<Props> = ({\n  getProjects,\n  saveProject,\n  addNewSlide,\n  duplicateSlide,\n  reOrderSlide,\n  deleteSlide,\n  editor,\n  loadObjects,\n  loadContainers,\n  updateGroupContainer,\n  saveProjectAttribute,\n  updateBackground,\n  updateObject,\n  setBackgrounds,\n  updateHistory,\n  loadBackgrounds,\n  addLayout,\n  addObject,\n  removeObject,\n  project: {\n    currentProject,\n    objects,\n    containers,\n    backgrounds,\n    bgStyles,\n    slideWidth,\n    slideHeight,\n    layout,\n    layouts,\n    loading,\n    fetching,\n  },\n}) => {\n  const [template, setTemplate] = useQueryState('template', 1)\n  const [coverType, setCoverType] = useQueryState('coverType', 1)\n  const [paperSize, setPaperSize] = useQueryState('paperSize', 1)\n  const [bindingType, setBindingType] = useQueryState('bindingType', 1)\n  const [material, setMaterial] = useQueryState('material', 1)\n  const [color, setColor] = useQueryState('color', 1)\n  const [uuid, setUuid] = useQueryState('project', '')\n\n  const slideViewRef: any = useRef(null)\n  const editorContainerRef: any = useRef(null)\n  const slideContainerRef: any = useRef(null)\n  const selectionRef: any = useRef(null)\n  const canvasRef = useRef<any>(null)\n  const scaledContainerRef = useRef<any>(null)\n  const groupRef = useRef<any>(null)\n  const [overflow, setOverflow] = useState<string>('hidden')\n  const [refreshing, setRefreshing] = useBoolean(false)\n  const [preview, setPreview] = useBoolean(false)\n  const [single, setSingle] = useBoolean(true)\n\n  // states\n  const [scale, setScale] = useState<number>(1)\n  const [fitScale, setFitScale] = useState<number>(1)\n  const [_objectType, setObjectType] = useState<ObjectType>('')\n  const [_isTextEditing, setIsTextEditing] = useState<boolean>(false)\n  const [_index, setObjectIndex] = useState<number>(-1)\n  const [_textObjectIndex, setTextObjectIndex] = useState<number>(-1)\n  const [_object, setObject] = useState<any>(null)\n  const [_groupObjects, setGroupObjects] = useState<any>(null)\n  const [footerCollapse, setFooterCollapse] = useBoolean(false)\n  const [_groupStyles, setGroupStyles] =\n    useState<{\n      left: any\n      top: any\n      width: any\n      height: any\n    }>()\n  const [_slideIndex, setSlideIndex] = useState<number>(0)\n  useHotkeys('shift+a', () => editors.onRotateLeftObject(_index, objects), [_index, objects])\n  useHotkeys('shift+d', () => editors.onRotateRightObject(_index, objects), [_index, objects])\n  useHotkeys('shift+q', () => editors.onFlipObject(_index, objects), [_index, objects])\n  useHotkeys('shift+w', () => editors.onSendForward(_index, objects), [_index, objects])\n  useHotkeys('shift+s', () => editors.onSendBackward(_index, objects), [_index, objects])\n  useHotkeys('ctrl+Delete', () => editors.onRemoveObject(containers, objects, _index), [_index, objects])\n  useHotkeys('shift+Delete', () => editors.onRemoveImageFromObject(_index, objects, _objectType), [_index, objects])\n  useHotkeys(\n    'ctrl+shift+s',\n    () => {\n      saveObjects()\n    },\n    [objects, backgrounds]\n  )\n\n  const editors = useMemo(() => {\n    return new Editor({\n      setTextObjectIndex,\n      setObjectIndex,\n      scale,\n      overflow,\n      setOverflow,\n      _isTextEditing,\n      setIsTextEditing,\n      _groupObjects,\n      setGroupObjects,\n      scaledContainerRef,\n      _objectType,\n      setObjectType,\n      groupRef,\n      _groupStyles,\n      updateGroupContainer,\n      slideViewRef,\n      slideWidth,\n      slideHeight,\n      selectionRef,\n      updateObject,\n      loadBackgrounds,\n      updateHistory,\n      addLayout,\n      addObject,\n      removeObject,\n      slideContainerRef,\n      setObject,\n      canvasRef,\n      setGroupStyles,\n      _object,\n      double: true,\n    })\n  }, [scale, slideHeight, slideWidth])\n\n  const saveTextBeforeUndo = () => {\n    if (_index > -1 && _isTextEditing) {\n      _object.classList.remove('selected')\n      _object.firstChild.style.cursor = 'default'\n      _object.firstChild.style.pointerEvents = 'none'\n      _object.firstChild.childNodes[2].contentEditable = false\n      window.getSelection()?.removeAllRanges()\n      editors.updateCurrentTextObject(_index, objects)\n      setIsTextEditing(false)\n      setTextObjectIndex(_index)\n    }\n  }\n\n  const nextSlide = () => {\n    if (_slideIndex < currentProject.slides.length - 1) {\n      changeSlideIndex(_slideIndex + 1)\n    }\n  }\n\n  const onAddSlide = (projectId: number, slideIndex: number) => {\n    setRefreshing.setTrue()\n    addNewSlide(projectId, slideIndex).then(() => {\n      changeSlideIndex(_slideIndex + 1)\n      setRefreshing.setFalse()\n    })\n  }\n\n  const onDuplicateSlide = (projectId: number, slideIndex: number) => {\n    setRefreshing.setTrue()\n    duplicateSlide(projectId, slideIndex, currentProject.slides[slideIndex]).then(() => {\n      changeSlideIndex(_slideIndex + 1)\n      setRefreshing.setFalse()\n    })\n  }\n\n  const onReOrderSlide = (projectId: number, slides: Slide[]) => {\n    setRefreshing.setTrue()\n    reOrderSlide(projectId, slides).then(() => {\n      setRefreshing.setFalse()\n      editors.deSelectObject()\n      setSlideIndex(0)\n    })\n  }\n\n  const onDeleteSlide = (projectId: number, slideIndex: number) => {\n    if (_slideIndex !== 0) {\n      setRefreshing.setTrue()\n      deleteSlide(projectId, slideIndex).then(() => {\n        setRefreshing.setFalse()\n        editors.deSelectObject()\n        setSlideIndex(_slideIndex - 1)\n      })\n    }\n  }\n\n  const prevSlide = () => {\n    if (_slideIndex !== 0) {\n      changeSlideIndex(_slideIndex - 1)\n    }\n  }\n\n  const changeSlideIndex = (index: number) => {\n    saveObjects()\n    editors.deSelectObject()\n    setSlideIndex(index)\n  }\n\n  const hasNext = () => {\n    return !(_slideIndex === currentProject.slides.length - 1)\n  }\n\n  const hasPrevious = () => {\n    return !(_slideIndex === 0)\n  }\n\n  const saveObjects = async () => {\n    if (_slideIndex >= currentProject.slides.length) return\n    const updatedSlide = currentProject.slides[_slideIndex]\n    updatedSlide.objects = objects\n    updatedSlide.backgrounds = backgrounds\n    saveProject(currentProject.id, updatedSlide, _slideIndex)\n  }\n  const onSaveName = (name: string) => {\n    saveProjectAttribute(currentProject.id, { name })\n  }\n\n  const setSlidePosition = () => {\n    if (slideContainerRef.current === null) return\n    slideContainerRef.current.classList.add('center-slide')\n\n    const editorPanelContainer: any = document.querySelector('.EditorPanelContainer')\n    const allLayout: any = document.querySelector('.SlideListAll')\n\n    editorPanelContainer.style.width = editor.sidebarOpen\n      ? 'calc(100vw - 400px)' // 310 + 90\n      : 'calc(100vw - 90px)' // 90\n\n    if (allLayout?.style) {\n      allLayout.style.width = editor.sidebarOpen\n        ? 'calc(100vw - 400px)' // 310 + 90\n        : 'calc(100vw - 90px)' // 90\n    }\n\n    const rect = slideContainerRef.current.getBoundingClientRect()\n    const maxWidth = slideWidth\n    const maxHeight = slideHeight\n    const srcWidth = rect.width - 240 // 240 is the width of two side menus\n    const srcHeight = rect.height\n\n    const ratio = Math.min(srcWidth / maxWidth, srcHeight / maxHeight)\n    setScale(ratio)\n    setFitScale(ratio)\n\n    const scaledWidth = maxWidth * ratio\n    const scaledHeight = maxHeight * ratio\n\n    canvasRef.current.style.transform = 'scale(' + ratio + ')'\n    canvasRef.current.style.transformOrigin = '0 0'\n    scaledContainerRef.current.style.width = scaledWidth + 'px'\n    scaledContainerRef.current.style.height = scaledHeight + 'px'\n\n    const slide = document.querySelector('#slide') as HTMLElement\n    slide.style.width = scaledWidth + 'px'\n    slide.style.height = scaledHeight + 'px'\n\n    editorContainerRef.current.style.width = scaledWidth + 'px'\n    editorContainerRef.current.style.height = scaledHeight + 'px'\n  }\n\n  const loadSlide = () => {\n    const currentSlide = currentProject.slides[_slideIndex]\n    if (currentSlide.backgrounds.length === 0) {\n      const bgClasses: string[] = ['background-full', 'background-left', 'background-right']\n      loadBackgrounds(\n        bgClasses.map((bgClass) => ({\n          className: bgClass,\n        }))\n      )\n    } else {\n      loadBackgrounds(currentSlide.backgrounds)\n    }\n    loadObjects(currentSlide.objects)\n    loadContainers(currentSlide.containers)\n  }\n\n  useEffect(() => {\n    if (loading) return\n    const debouncedHandleResize = debounce(function handleResize() {\n      editors.hideResizer()\n      editors.hideToolbar()\n      editors.hideActiveBorder()\n      setSlidePosition()\n    }, 100)\n    window.addEventListener('resize', debouncedHandleResize)\n    return () => {\n      window.removeEventListener('resize', debouncedHandleResize)\n    }\n  })\n\n  useEffect(() => {\n    if (!template) {\n      window.history.back()\n      return\n    }\n    getProjects(template, paperSize, uuid).then((id) => {\n      if (id) {\n        setUuid(id)\n      }\n    })\n  }, [getProjects, template])\n\n  useEffect(() => {\n    if (!loading) loadSlide()\n  }, [_slideIndex]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!loading && !preview) {\n      setSlidePosition()\n      loadSlide()\n    }\n  }, [currentProject, preview]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    editors.deSelectObject()\n    if (!loading) {\n      setSlidePosition()\n    }\n  }, [editor.sidebarOpen]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!loading) {\n      setSlidePosition()\n      loadSlide()\n    }\n  }, [loading]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (editor.dragStart) {\n      if (editor.type === 'backgrounds') {\n        const backgroundDrops: any = document.querySelectorAll('.background-drop')\n        backgroundDrops.forEach((background: any) => {\n          background.style.display = 'block'\n        })\n      } else if (editor.type === 'layouts') {\n        const layoutDrops: any = document.querySelectorAll('.layout-drop')\n        layoutDrops.forEach((_layout: any) => {\n          _layout.style.display = 'block'\n        })\n      }\n    } else if (editor.type === 'backgrounds') {\n      const backgroundDrops: any = document.querySelectorAll('.background-drop')\n      backgroundDrops.forEach((background: any) => {\n        background.style.display = 'none'\n      })\n    } else if (editor.type === 'layouts') {\n      const layoutDrops: any = document.querySelectorAll('.layout-drop')\n      layoutDrops.forEach((_layout: any) => {\n        _layout.style.display = 'none'\n      })\n    }\n  }, [editor.dragStart, editor.type])\n\n  const renderEditor = (\n    <div className=\"EditorPanelContainer\">\n      <div ref={slideViewRef} className=\"StepSlideContainer SlideViewContainer\">\n        <div id=\"editor_container\" ref={editorContainerRef}>\n          <Toolbar\n            object={_object}\n            objectType={_objectType}\n            index={_index}\n            objects={objects}\n            updateObject={updateObject}\n            updateHistory={updateHistory}\n            moveResizers={editors.moveResizers}\n            removeImageFromObject={() => editors.onRemoveImageFromObject(_index, objects, _objectType)}\n            rotateLeftObject={() => editors.onRotateLeftObject(_index, objects)}\n            rotateRightObject={() => editors.onRotateRightObject(_index, objects)}\n            flipObject={() => editors.onFlipObject(_index, objects)}\n            sendForward={() => editors.onSendForward(_index, objects)}\n            sendBackward={() => editors.onSendBackward(_index, objects)}\n            removeObject={() => editors.onRemoveObject(containers, objects, _index)}\n          />\n          <div id=\"selection\" hidden ref={selectionRef} />\n          <SideButtons\n            createImage={(e) => editors.createImage(e, objects)}\n            createText={() => editors.createText(objects)}\n            createSquare={() => editors.createSquare(objects)}\n            changeLayout={(align, type) => editors.changeLayout(objects, layout, layouts, align, type)}\n            layout={layout}\n            layouts={layouts}\n          />\n          <div\n            id=\"slide_container\"\n            onMouseDown={(e) => editors.onSlideMouseDown(e, _index, containers)}\n            onDrop={(e) => editors.onObjectDrop(e, editor.type, objects, _index)}\n            onDragOver={editors.onObjectDragOver}\n            ref={slideContainerRef}\n          >\n            <div id=\"slide\" style={{ overflow }}>\n              <div id=\"scaled_container\" ref={scaledContainerRef}>\n                <div\n                  className=\"layout-drop layout-drop-left\"\n                  onDragOver={editors.layoutDragOver}\n                  onDragLeave={editors.layoutDragLeave}\n                  onDrop={(e) => editors.layoutDragDrop(e, objects, layout)}\n                />\n                <div\n                  className=\"layout-drop layout-drop-middle\"\n                  onDragOver={editors.layoutDragOver}\n                  onDragLeave={editors.layoutDragLeave}\n                  onDrop={(e) => editors.layoutDragDrop(e, objects, layout)}\n                />\n                <div\n                  className=\"layout-drop layout-drop-right\"\n                  onDragOver={editors.layoutDragOver}\n                  onDragLeave={editors.layoutDragLeave}\n                  onDrop={(e) => editors.layoutDragDrop(e, objects, layout)}\n                />\n                {!loading && (\n                  <BackgroundImages\n                    scale={scale}\n                    editor={editor}\n                    slideIndex={_slideIndex}\n                    backgrounds={backgrounds}\n                    deSelectObject={editors.deSelectObject}\n                    setBackgrounds={setBackgrounds}\n                    updateBackground={updateBackground}\n                    updateHistory={updateHistory}\n                    onBackgroundDropDragOver={editors.onBackgroundDropDragOver}\n                    onBackgroundDropDragLeave={editors.onBackgroundDropDragLeave}\n                  />\n                )}\n                <div ref={canvasRef} id=\"canvas_container\">\n                  {!loading && (\n                    <>\n                      <div id=\"background\">\n                        {renderBackground({\n                          backgrounds,\n                          bgStyles,\n                          updateBackground,\n                        })}\n                      </div>\n                      <div id=\"container\">\n                        {objects.map((o: PObject, i: number) => {\n                          return (\n                            <div\n                              id={o.id}\n                              key={o.id}\n                              style={o.style as React.CSSProperties}\n                              className={o.className}\n                              onMouseDown={(e) => editors.startDrag(e, o, i, objects)}\n                              onMouseEnter={(e) => editors.objectHover(e, i, _index)}\n                              onMouseLeave={(e) => editors.objectHoverOff(e, i, _index)}\n                              onDragOver={editors.onDragObjectOver}\n                              onDragLeave={(e) => editors.onDragObjectLeave(e, _index)}\n                              onDoubleClick={(e) => editors.onObjectDoubleClick(e, o, i)}\n                              onInput={(e) => editors.updateText(_index, objects, e)}\n                              onPaste={(e) => editors.updateText(_index, objects, e)}\n                              onBlur={(e) => {\n                                editors.updateText(_index, objects, e)\n                                if (_textObjectIndex > -1) {\n                                  editors.updateTextObject(objects, _textObjectIndex)\n                                }\n                              }}\n                              onKeyDown={(e) => editors.updateText(_index, objects, e)}\n                              onKeyUp={(e) => {\n                                if (e.keyCode === 16) editors._isShiftDown = false\n                                if (e.keyCode === 17) editors._isCtrlDown = false\n                              }}\n                            >\n                              {renderObject({\n                                object: o,\n                                updateObject,\n                                updateHistory,\n                                saveObjects,\n                                scale,\n                              })}\n                            </div>\n                          )\n                        })}\n                      </div>{' '}\n                    </>\n                  )}\n                </div>\n\n                <div\n                  className=\"group-selection\"\n                  ref={groupRef}\n                  onMouseDown={(e) => editors.selectionDragStart(e, containers)}\n                />\n                <div className=\"active-border\" />\n                <div className=\"page-border\" />\n                <div className=\"rotate\" onMouseDown={(e) => editors.startRotate(e, objects, _index)} />\n                <div id=\"magnetX\" />\n                <div id=\"magnetY\" />\n                {Object.keys(editors.transformers).map((t: string) => {\n                  const cursor = `${t}-resize`\n                  const resize = editors.transformers[t]\n                  return (\n                    <div\n                      key={t}\n                      style={{ cursor }}\n                      onMouseDown={(e) => editors.startResize(e, cursor, resize, _index, objects)}\n                      className={`resize ${resize}`}\n                    />\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n  return fetching ? (\n    <div className=\"AdvancedEditorWrapper\">\n      <div className=\"EditorOnePageView\">\n        <Spinner />\n      </div>\n    </div>\n  ) : (\n    <div className=\"AdvancedEditorWrapper\">\n      <Header\n        deSelectObject={editors.deSelectObject}\n        onPreview={() => {\n          if (preview || !single) {\n            setPreview.setFalse()\n            setSingle.setTrue()\n          } else {\n            setPreview.setTrue()\n          }\n        }}\n        saveName={onSaveName}\n        saveObjects={saveObjects}\n        saveTextBeforeUndo={saveTextBeforeUndo}\n      />\n      <div className=\"EditorOnePageView\">\n        {!preview && <SideBarPanel layoutGroups={layouts} hasImage />}\n        <div className=\"EditorPanel\">\n          {preview ? (\n            <Preview\n              slideIndex={_slideIndex}\n              nextSlide={nextSlide}\n              prevSlide={prevSlide}\n              hasNext={hasNext}\n              hasPrevious={hasPrevious}\n            />\n          ) : (\n            renderEditor\n          )}\n          <FooterListTools\n            scale={scale}\n            fitScale={fitScale}\n            setScale={setScale}\n            loading={loading || refreshing}\n            bgStyles={bgStyles}\n            collapse={{\n              state: footerCollapse,\n              action: setFooterCollapse,\n            }}\n            preview={{\n              state: preview,\n              action: setPreview,\n            }}\n            single={{\n              state: single,\n              action: setSingle,\n            }}\n            slideWidth={slideWidth}\n            slideHeight={slideHeight}\n            objects={objects}\n            containers={containers}\n            backgrounds={backgrounds}\n            deSelectObject={editors.deSelectObject}\n            slideIndex={_slideIndex}\n            currentProject={currentProject}\n            changeSlideIndex={changeSlideIndex}\n            addNewSlide={onAddSlide}\n            duplicateSlide={onDuplicateSlide}\n            reOrderSlide={onReOrderSlide}\n            deleteSlide={onDeleteSlide}\n            nextSlide={nextSlide}\n            prevSlide={prevSlide}\n            hasNext={hasNext}\n            hasPrevious={hasPrevious}\n            updateObject={updateObject}\n            updateHistory={updateHistory}\n            saveObjects={saveObjects}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state: RootInterface) => ({\n  project: state.project,\n  editor: state.editor,\n})\n\nexport default connect(mapStateToProps, {\n  getProjects: _getProjects,\n  saveProject: _saveProject,\n  addNewSlide: _addNewSlide,\n  deleteSlide: _deleteSlide,\n  loadObjects: _loadObjects,\n  loadContainers: _loadContainers,\n  loadBackgrounds: _loadBackgrounds,\n  updateContainer: _updateContainer,\n  updateGroupContainer: _updateGroupContainer,\n  updateBackground: _updateBackground,\n  updateObject: _updateObject,\n  setBackgrounds: _setBackgrounds,\n  updateHistory: _updateHistory,\n  addLayout: _addLayout,\n  addObject: _addObject,\n  duplicateSlide: _duplicateSlide,\n  removeObject: _removeObject,\n  reOrderSlide: _reOrderSlide,\n  saveProjectAttribute: _saveProjectAttribute,\n})(BookEditor)\n","/home/project/photobook/photobook_front/src/components/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/redirect/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/landing/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/auth/signup/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/errors/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/auth/login/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/frame/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/canvas/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/photobook/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/frame/template/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/canvas/template/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/product/photobook/template/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/profile/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/preview.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/index.ts",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/index.ts",[],"/home/project/photobook/photobook_front/src/pages/errors/403.tsx",[],"/home/project/photobook/photobook_front/src/pages/errors/404.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/index.tsx",[],"/home/project/photobook/photobook_front/src/components/button/index.tsx",[],"/home/project/photobook/photobook_front/src/utils/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/editor/index.ts",["531","532","533","534"],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/index.ts",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/index.ts",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/index.tsx",["535","536"],"/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  BgColorsOutlined,\n  BorderOuterOutlined,\n  LayoutOutlined,\n  LeftOutlined,\n  PictureOutlined,\n  StarOutlined,\n} from '@ant-design/icons'\nimport { useDrop } from 'ahooks'\nimport { Button } from 'antd'\nimport {\n  getImages as _getImages,\n  addImage as _addImage,\n  addImages as _addImages,\n  uploadImages as _uploadImages,\n} from 'redux/actions/image'\nimport {\n  setType as _setType,\n  setDragStart as _setDragStart,\n  setBackgroundEdit as _setBackgroundEdit,\n  toggleSidebar as _toggleSidebar,\n} from 'redux/actions/editor'\nimport { s3Upload, s3SyncImages, s3UploadImages } from 'utils/aws-lib'\nimport { FormattedMessage } from 'react-intl'\nimport { EditorInterface, ImageInterface, RootInterface, UploadablePicture } from 'interfaces'\n\nimport Images from './tabs/images'\nimport Backgrounds from './tabs/backgrounds'\nimport Cliparts from './tabs/cliparts'\nimport Masks from './tabs/masks'\nimport Frames from './tabs/frames'\nimport Layouts from './tabs/layouts'\nimport UploadPhotosGroup from './upload-photos-group'\n\ninterface Props {\n  getImages: () => void\n  addImage: (imageUrl: string, type: string) => void\n  addImages: (images: string[]) => void\n  uploadImages: () => void\n  setType: (type: string) => void\n  setDragStart: (dragStart: boolean) => void\n  setBackgroundEdit: (backgroundEdit: boolean) => void\n  toggleSidebar: () => void\n  editor: EditorInterface\n  image: ImageInterface\n  layoutGroups: any\n  hasImage?: boolean\n  hasLayout?: boolean\n}\n\nconst SideBarPanel: React.FC<Props> = ({\n  getImages,\n  hasImage,\n  hasLayout = true,\n  addImage,\n  addImages,\n  uploadImages,\n  setType,\n  setDragStart,\n  setBackgroundEdit,\n  toggleSidebar,\n  editor,\n  image: { images, loading },\n  layoutGroups,\n}) => {\n  const [closed, setClosed] = useState<boolean>(!editor.sidebarOpen)\n\n  const [props, { isHovering }] = useDrop({\n    onFiles: (files) => {\n      uploadImages()\n      s3UploadImages(files).then((keys) => {\n        addImages(keys)\n      })\n    },\n  })\n\n  const uploadPhoto = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files?.length > 0) {\n      await uploadImages()\n      const keys = await s3UploadImages(Array.from(e.target.files))\n      await addImages(keys)\n    }\n  }\n\n  const uploadPhotos = async (_images: UploadablePicture[]) => {\n    if (_images.length) {\n      await uploadImages()\n      const keys = await s3SyncImages(_images)\n      await addImages(keys)\n    }\n  }\n\n  const isActive = (name: any) => {\n    return editor.type === name ? 'active' : ''\n  }\n\n  const isDisabled = () => {\n    return editor.backgroundEdit ? ' disabled' : ''\n  }\n\n  const switchTab = (type: any) => {\n    if (!editor.backgroundEdit) {\n      if (closed) toggleSidebar()\n      setClosed(false)\n      setType(type)\n    }\n  }\n\n  const closeTab = () => {\n    toggleSidebar()\n    setClosed(true)\n    setType('')\n  }\n\n  useEffect(() => {\n    getImages()\n  }, [getImages])\n\n  const renderEditor = () => {\n    switch (editor.type) {\n      case 'images': {\n        if (hasImage) {\n          const uploadedImages = images.filter((image) => image.type === editor.type)\n          return !loading && uploadedImages.length === 0 ? (\n            <div className=\"UploadImageDropArea\">\n              <div>\n                <p>\n                  <FormattedMessage id=\"choose_source_to\" />\n                </p>\n                <p className=\"phrase-add\">\n                  <FormattedMessage id=\"add_photos\" />\n                </p>\n              </div>\n\n              <UploadPhotosGroup uploadPhoto={uploadPhoto} uploadPhotos={uploadPhotos} />\n            </div>\n          ) : (\n            <Images loading={loading} images={uploadedImages} uploadPhoto={uploadPhoto} uploadPhotos={uploadPhotos} />\n          )\n        }\n        return <div />\n      }\n      case 'backgrounds': {\n        const backgrounds = images.filter((image) => image.type === editor.type)\n        return !loading && backgrounds.length === 0 ? (\n          <div className=\"UploadImageDropArea\">\n            <div>\n              <p className=\"phrase-add\">\n                <FormattedMessage id=\"empty\" />\n              </p>\n            </div>\n          </div>\n        ) : (\n          <Backgrounds\n            loading={loading}\n            images={backgrounds}\n            backgroundEdit={editor.backgroundEdit}\n            setDragStart={setDragStart}\n            setBackgroundEdit={setBackgroundEdit}\n          />\n        )\n      }\n      case 'cliparts': {\n        const cliparts = images.filter((image) => image.type === editor.type)\n        return !loading && cliparts.length === 0 ? (\n          <div className=\"UploadImageDropArea\">\n            <div>\n              <p className=\"phrase-add\">\n                <FormattedMessage id=\"empty\" />\n              </p>\n            </div>\n          </div>\n        ) : (\n          <Cliparts loading={loading} images={cliparts} />\n        )\n      }\n      case 'layouts': {\n        return <Layouts loading={loading} setDragStart={setDragStart} layoutGroups={layoutGroups} />\n      }\n      case 'masks': {\n        const masks = images.filter((image) => image.type === editor.type)\n        return !loading && masks.length === 0 ? (\n          <div className=\"UploadImageDropArea\">\n            <div>\n              <p className=\"phrase-add\">\n                <FormattedMessage id=\"empty\" />\n              </p>\n            </div>\n          </div>\n        ) : (\n          <Masks loading={loading} images={masks} />\n        )\n      }\n      case 'frames': {\n        const frames = images.filter((image) => image.type === editor.type)\n        return !loading && frames.length === 0 ? (\n          <div className=\"UploadImageDropArea\">\n            <div>\n              <p className=\"phrase-add\">\n                <FormattedMessage id=\"empty\" />\n              </p>\n            </div>\n          </div>\n        ) : (\n          <Frames loading={loading} images={frames} />\n        )\n      }\n      default:\n        return <div>default page</div>\n    }\n  }\n\n  return (\n    <div className=\"SideBarPanel\">\n      <div className=\"TabView\">\n        {!closed && <Button onClick={closeTab} className=\"close-sidebar\" icon={<LeftOutlined />} />}\n        <div className=\"Headers\">\n          <div\n            hidden={!hasImage}\n            onClick={() => switchTab('images')}\n            className={'HeaderItem ' + isActive('images') + isDisabled()}\n          >\n            <PictureOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"images\" />\n            </div>\n          </div>\n          <div onClick={() => switchTab('backgrounds')} className={'HeaderItem ' + isActive('backgrounds')}>\n            <PictureOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"backgrounds\" />\n            </div>\n          </div>\n          <div onClick={() => switchTab('cliparts')} className={'HeaderItem ' + isActive('cliparts') + isDisabled()}>\n            <StarOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"cliparts\" />\n            </div>\n          </div>\n          <div\n            hidden={!hasLayout}\n            onClick={() => switchTab('layouts')}\n            className={'HeaderItem ' + isActive('layouts') + isDisabled()}\n          >\n            <LayoutOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"layouts\" />\n            </div>\n          </div>\n          <div onClick={() => switchTab('masks')} className={'HeaderItem ' + isActive('masks') + isDisabled()}>\n            <BgColorsOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"masks\" />\n            </div>\n          </div>\n          <div onClick={() => switchTab('frames')} className={'HeaderItem ' + isActive('frames') + isDisabled()}>\n            <BorderOuterOutlined style={{ fontSize: 24 }} />\n            <div className=\"title\">\n              <FormattedMessage id=\"frames\" />\n            </div>\n          </div>\n        </div>\n        {!closed && (\n          <div className=\"UserPhotoList\">\n            <div className=\"LibraryItemsListContainer\" style={isHovering ? { background: '#add6ff' } : {}} {...props}>\n              {renderEditor()}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state: RootInterface) => ({\n  image: state.image,\n  editor: state.editor,\n})\n\nexport default connect(mapStateToProps, {\n  getImages: _getImages,\n  addImage: _addImage,\n  addImages: _addImages,\n  setType: _setType,\n  setDragStart: _setDragStart,\n  setBackgroundEdit: _setBackgroundEdit,\n  toggleSidebar: _toggleSidebar,\n  uploadImages: _uploadImages,\n})(SideBarPanel)\n","/home/project/photobook/photobook_front/src/pages/editor/components/layout/header/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/footer/index.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/withReactToItemsChange/withReactToItemsChange.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/withMaxItems.tsx",[],"/home/project/photobook/photobook_front/src/page-components/profile/my-info/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/profile/my-cart/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/profile/my-projects/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/profile/order-history/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/components/width-limiter/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/side-buttons.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/background-images.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/footer/slide.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/upload-photos-group.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/layouts.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/frames.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/masks.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/cliparts.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/backgrounds.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/sidebar/tabs/images.tsx",["537"],"/home/project/photobook/photobook_front/src/utils/dnd.ts",[],"/home/project/photobook/photobook_front/src/redux/actions/project.ts",["538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561"],"import {\n  createProject,\n  getPaperSize,\n  getProject,\n  getProjectByUuid,\n  getTemplate,\n  updateProject as _updateProject,\n  updateProjectSlides,\n} from 'api'\nimport { BackgroundImage, Container, PaperSize, PObject, Project, Slide, Template } from 'interfaces'\nimport { generateDuplicatedSlide, generateNewSlide } from 'utils/transformer-lib'\nimport {\n  UPDATE_PROJECT,\n  PROJECTS_ERROR,\n  SAVE_PROJECT,\n  SLIDES_ERROR,\n  NEW_SLIDE,\n  DELETE_SLIDE,\n  REDO,\n  REDO_ERROR,\n  UNDO_ERROR,\n  UNDO,\n  REMOVE_OBJECT,\n  ADD_OBJECT,\n  UPDATE_HISTORY,\n  LOAD_BACKGROUNDS,\n  LOAD_ERROR,\n  LOAD_CONTAINERS,\n  LOAD_OBJECTS,\n  SET_CURRENT_PROJECT,\n  SET_SLIDE_DIMENSION,\n  UPDATE_CONTAINER,\n  UPDATE_GROUP_CONTAINER,\n  UPDATE_BACKGROUND,\n  SET_BACKGROUNDS,\n  UPDATE_OBJECT,\n  ADD_LAYOUT,\n  REORDER_SLIDE,\n  SAVE_PROJECT_ATTR,\n  CLEAR_PROJECT,\n} from './types'\n\n// #region [Project]\nexport const getProjects = (id: number, paperSizeId: number, uuid: string) => async (dispatch: any) => {\n  try {\n    if (uuid.length === 0) {\n      dispatch({ type: CLEAR_PROJECT })\n      const template: Template = await getTemplate(id)\n      const newProject = await createProject({\n        name: 'New Project',\n        templateId: id,\n        paperSizeId,\n        slides: template.slides,\n      })\n      const project: Project = await getProject(newProject?.data.id)\n      dispatch(setCurrentProject(project))\n      return project.uuid\n    } else {\n      dispatch({ type: CLEAR_PROJECT })\n      const project = await getProjectByUuid(uuid)\n      dispatch(setCurrentProject(project))\n      return uuid\n    }\n  } catch (err) {\n    dispatch({\n      type: PROJECTS_ERROR,\n      payload: { msg: err },\n    })\n  }\n  return undefined\n}\n// update project\nexport const updateProject = (projectId: number, props: { paperSizeId: number }) => async (dispatch: any) => {\n  try {\n    await _updateProject(projectId, { paperSizeId: props.paperSizeId })\n    const paperSize: PaperSize = await getPaperSize(props.paperSizeId)\n    dispatch(setSlideStyle(`${paperSize.width}x${paperSize.height}`))\n\n    dispatch({\n      type: UPDATE_PROJECT,\n      payload: props,\n    })\n  } catch (err) {\n    dispatch({\n      type: PROJECTS_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// set current project\nexport const setCurrentProject = (project: Project) => async (dispatch: any) => {\n  try {\n    dispatch(setSlideStyle(`${project.paperSize?.width}x${project.paperSize?.height}`))\n    dispatch({\n      type: SET_CURRENT_PROJECT,\n      payload: project,\n    })\n  } catch (err) {\n    dispatch({\n      type: PROJECTS_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// Save project\nexport const saveProject = (projectId: number, updatedSlide: Slide, slideIndex: number) => async (dispatch: any) => {\n  try {\n    await updateProjectSlides(projectId, {\n      update: [updatedSlide, slideIndex],\n    })\n\n    dispatch({\n      type: SAVE_PROJECT,\n      payload: updatedSlide,\n    })\n  } catch (err) {\n    dispatch({\n      type: PROJECTS_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\nexport const saveProjectAttribute = (projectId: number, data: Object) => async (dispatch: any) => {\n  try {\n    await _updateProject(projectId, data)\n    dispatch({\n      type: SAVE_PROJECT_ATTR,\n      payload: data,\n    })\n  } catch (err) {\n    dispatch({\n      type: PROJECTS_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n// #endregion [Project]\n\n// #region [Slide]\n// set bgStyle\nexport const setSlideStyle =\n  (paperSize = '14x11') =>\n  async (dispatch: any) => {\n    try {\n      console.log('paper sizeeeeeeeeee', paperSize)\n      const [width, height] = paperSize.split('x') // 14x11\n      const slideWidth = parseFloat(width) * 100 * 2 + 30 // 30 is the book spine\n      const slideHeight = parseFloat(height) * 100 // 11 * 100 = 1100\n\n      const bgStyles = {\n        'background-full': {\n          left: 0 + 'px',\n          width: slideWidth + 'px',\n          height: slideHeight + 'px',\n        },\n        'background-left': {\n          left: 0,\n          width: slideWidth / 2 + 'px',\n          height: slideHeight + 'px',\n        },\n        'background-right': {\n          left: slideWidth / 2 + 'px',\n          width: slideWidth / 2 + 'px',\n          height: slideHeight + 'px',\n        },\n      }\n\n      dispatch({\n        type: SET_SLIDE_DIMENSION,\n        payload: { bgStyles, slideWidth, slideHeight },\n      })\n    } catch (err) {\n      console.error('LOAD Slide style', err)\n      dispatch({\n        type: LOAD_ERROR,\n        payload: { msg: err },\n      })\n    }\n  }\n\n// loadObjects\nexport const loadObjects = (objects: PObject[]) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: LOAD_OBJECTS,\n      payload: objects,\n    })\n  } catch (err) {\n    console.error('LOAD object', err)\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// loadContainers\nexport const loadContainers = (containers: Container[]) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: LOAD_CONTAINERS,\n      payload: containers,\n    })\n  } catch (err) {\n    console.error('LOAD Container', err)\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// loadBackgrounds\nexport const loadBackgrounds = (backgrounds: Object[]) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: LOAD_BACKGROUNDS,\n      payload: backgrounds,\n    })\n  } catch (err) {\n    console.error('LOAD Background', err)\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// Add new slide\nexport const addNewSlide = (projectId: number, slideIndex: number) => async (dispatch: any) => {\n  try {\n    const newSlide = generateNewSlide()\n    await updateProjectSlides(projectId, {\n      insert: [newSlide, slideIndex + 1],\n    })\n\n    dispatch({\n      type: NEW_SLIDE,\n      payload: { slide: newSlide, slideIndex: slideIndex + 1 },\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n// Duplicate slide\nexport const duplicateSlide = (projectId: number, slideIndex: number, slide: Slide) => async (dispatch: any) => {\n  try {\n    const newSlide = generateDuplicatedSlide(slide)\n    await updateProjectSlides(projectId, {\n      insert: [newSlide, slideIndex + 1],\n    })\n    dispatch({\n      type: NEW_SLIDE,\n      payload: { slide: newSlide, slideIndex: slideIndex + 1 },\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// reorder slide\nexport const reOrderSlide = (projectId: number, slides: Slide[]) => async (dispatch: any) => {\n  try {\n    await _updateProject(projectId, {\n      slides,\n    })\n    dispatch({\n      type: REORDER_SLIDE,\n      payload: {\n        slides,\n      },\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// delete slide\nexport const deleteSlide = (projectId: number, slideIndex: number) => async (dispatch: any) => {\n  try {\n    await updateProjectSlides(projectId, {\n      pop: slideIndex,\n    })\n    dispatch({\n      type: DELETE_SLIDE,\n      payload: slideIndex,\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// slide\n\n// updateHistory\nexport const updateHistory = (historyType: string, props: any) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: UPDATE_HISTORY,\n      payload: { historyType, props },\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// updateBackground\nexport const updateBackground = (props: { background: BackgroundImage }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: UPDATE_BACKGROUND,\n      payload: props,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// setBackgrounds\nexport const setBackgrounds = (props: { backgrounds: BackgroundImage[] }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: SET_BACKGROUNDS,\n      payload: props,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// updateContainer\nexport const updateContainer = (props: { container: Object }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: UPDATE_CONTAINER,\n      payload: props,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// updateGroupContainer\nexport const updateGroupContainer = (props: { containers: Container[] }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: UPDATE_GROUP_CONTAINER,\n      payload: props,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// updateObject\nexport const updateObject = (props: { object: Object }) => async (dispatch: any) => {\n  console.log(props)\n  try {\n    dispatch({\n      type: UPDATE_OBJECT,\n      payload: props,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// addLayout\nexport const addLayout = (props: { objects: Object[] }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: ADD_LAYOUT,\n      payload: props,\n    })\n  } catch (err) {\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// addObject\nexport const addObject = (props: { object: Object }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: ADD_OBJECT,\n      payload: props,\n    })\n\n    dispatch(updateHistory(ADD_OBJECT, props))\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// removeObject\nexport const removeObject = (props: { object: Object; container: Object }) => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: REMOVE_OBJECT,\n      payload: props,\n    })\n\n    dispatch(updateHistory(REMOVE_OBJECT, props))\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: SLIDES_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// undo\nexport const undo = () => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: UNDO,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: UNDO_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// redo\nexport const redo = () => async (dispatch: any) => {\n  try {\n    dispatch({\n      type: REDO,\n    })\n  } catch (err) {\n    console.log('err')\n    console.log(err)\n    dispatch({\n      type: REDO_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n","/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/settings.tsx",[],"/home/project/photobook/photobook_front/src/utils/aws-lib.ts",["562","563","564"],"import { Storage } from 'aws-amplify'\nimport axios from 'axios'\nimport { UploadablePicture } from 'interfaces'\nimport Resizer from 'react-image-file-resizer'\n\nexport async function s3Upload(file: File) {\n  const filename = `${Date.now()}-${file.name}`\n  const thumb = await resizeFile(file)\n\n  // if we were uploading publicly we can use the Storage.put() method\n  const stored: any = await Storage.put(filename, thumb, {\n    contentType: file.type,\n  })\n  Storage.put(filename, file, {\n    progressCallback: (progress: any) => {\n      console.log(`Uploaded: ${progress.loaded}/${progress.total}`)\n    },\n    level: 'private',\n    contentType: file.type,\n  })\n\n  return stored.key\n}\n\nexport function blobToFile(blob: Blob, name: string): File {\n  const _blob: any = blob\n  _blob.lastModifiedDate = new Date()\n  _blob.name = name\n\n  return _blob\n}\n\nexport async function s3SyncImages(images: UploadablePicture[]) {\n  const keys = await Promise.all(\n    images?.map(async (image) => {\n      const filename = `${Date.now()}-${image.filename}`\n      const url = image.url.includes('google')\n        ? `https://u0n54noja5.execute-api.us-east-1.amazonaws.com/google-download?domain=${image.url}`\n        : image.url\n      const { data } = await axios.get(url, {\n        transformRequest: (_data, headers) => {\n          if (!image.url.includes('google')) {\n            delete headers.common['Access-Control-Allow-Headers']\n          }\n          return _data\n        },\n        responseType: 'blob',\n      })\n      const file = blobToFile(data, filename)\n      const thumb = await resizeFile(file)\n      Storage.put(image.filename, file, {\n        progressCallback: (progress: any) => {\n          console.log(`Uploaded: ${progress.loaded}/${progress.total}`)\n        },\n        level: 'private',\n        contentType: image.mimeType,\n      })\n      const stored: any = await Storage.put(filename, thumb, {\n        contentType: file.type,\n      })\n      return stored.key\n    })\n  )\n  return keys\n}\n\nexport async function s3UploadImages(files: File[]) {\n  const keys = await Promise.all(\n    files?.map(async (file) => {\n      const filename = `${Date.now()}-${file.name}`\n      const thumb = await resizeFile(file)\n      Storage.put(file.name, file, {\n        progressCallback: (progress: any) => {\n          console.log(`Uploaded: ${progress.loaded}/${progress.total}`)\n        },\n        level: 'private',\n        contentType: file.type,\n      })\n      const stored: any = await Storage.put(filename, thumb, {\n        contentType: file.type,\n      })\n      return stored.key\n    })\n  )\n  return keys\n}\n\nexport async function s3Delete(filename: string) {\n  const isDeleted = await Storage.remove(filename)\n  await Storage.remove(filename, {\n    level: 'private',\n  })\n\n  return isDeleted\n}\n\nexport async function s3DeleteMulti(files: any[]) {\n  const isAllDeleted = await Promise.all(\n    files?.filter(async (image: any) => {\n      const isDeleted = await Storage.remove(image)\n      await Storage.remove(image, {\n        level: 'private',\n      })\n      return isDeleted\n    })\n  )\n\n  return isAllDeleted\n}\n\nexport const resizeFile = (file: File) =>\n  new Promise((resolve) => {\n    Resizer.imageFileResizer(\n      file,\n      500,\n      500,\n      'PNG',\n      80,\n      0,\n      (uri) => {\n        resolve(uri)\n      },\n      'file'\n    )\n  })\n","/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/index.tsx",[],"/home/project/photobook/photobook_front/src/hooks/index.tsx",[],"/home/project/photobook/photobook_front/src/components/input/index.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/computeOriginalIndex.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/withMaxItems/compute/splitItems.tsx",[],"/home/project/photobook/photobook_front/src/utils/transformer-lib.ts",[],"/home/project/photobook/photobook_front/src/hooks/useWindow.tsx",[],"/home/project/photobook/photobook_front/src/hooks/useQuery.tsx",[],"/home/project/photobook/photobook_front/src/components/spinner/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/shape.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/image.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/objects/text.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/render-object.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/render-background.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/utils/render/background.tsx",[],"/home/project/photobook/photobook_front/src/redux/actions/editor.ts",[],"/home/project/photobook/photobook_front/src/redux/actions/image.ts",["565"],"import { createImage, createMultiImage, listImage } from 'api'\nimport { Storage } from 'aws-amplify'\nimport { Image, UploadablePicture } from 'interfaces'\nimport { GET_IMAGES, ADD_IMAGE, IMAGE_ERROR, ADD_IMAGES, UPLOAD_IMAGES } from './types'\n\n// Get images\nexport const getImages = () => async (dispatch: any) => {\n  try {\n    const images = await listImage()\n    dispatch({\n      type: GET_IMAGES,\n      payload: images,\n    })\n  } catch (err) {\n    dispatch({\n      type: IMAGE_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\n// Add image\nexport const addImage =\n  (imageUrl: string, type = 'images') =>\n  async (dispatch: any) => {\n    try {\n      let image = await createImage({ imageUrl, type })\n\n      image = {\n        ...image,\n        tempUrl: await Storage.get(image.imageUrl),\n      }\n\n      dispatch({\n        type: ADD_IMAGE,\n        payload: image,\n      })\n    } catch (err) {\n      dispatch({\n        type: IMAGE_ERROR,\n        payload: { msg: err },\n      })\n    }\n  }\n\nexport const addImages = (keys: string[]) => async (dispatch: any) => {\n  try {\n    let images = await createMultiImage(keys.map((key) => ({ imageUrl: key, type: 'images' })))\n\n    images = await Promise.all(\n      images.map(async (image: Image) => ({\n        ...image,\n        tempUrl: await Storage.get(image.imageUrl, { expires: 60 * 60 * 24 * 7 }),\n      }))\n    )\n\n    dispatch({\n      type: ADD_IMAGES,\n      payload: images,\n    })\n  } catch (err) {\n    dispatch({\n      type: IMAGE_ERROR,\n      payload: { msg: err },\n    })\n  }\n}\n\nexport const uploadImages = () => async (dispatch: any) => {\n  dispatch({\n    type: UPLOAD_IMAGES,\n  })\n}\n","/home/project/photobook/photobook_front/src/components/grid-dnd/DragAndDropWrapper/DragAndDropWrapper.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/index.tsx",[],"/home/project/photobook/photobook_front/src/components/grid-dnd/DragAndDropWrapper/ListManagerItem.tsx",[],"/home/project/photobook/photobook_front/src/components/card-table/generateColumn.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/shape-toolbar.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/image-toolbar.tsx",[],"/home/project/photobook/photobook_front/src/pages/editor/components/layout/editor-panel/toolbar/text-toolbar.tsx",[],"/home/project/photobook/photobook_front/src/components/canvas-layout-options/index.tsx",[],"/home/project/photobook/photobook_front/src/components/photobook-layout-options/index.tsx",[],"/home/project/photobook/photobook_front/src/components/cards/index.tsx",[],"/home/project/photobook/photobook_front/src/components/categories/index.tsx",[],"/home/project/photobook/photobook_front/src/components/product-list/index.tsx",[],"/home/project/photobook/photobook_front/src/components/product-wrapper/index.tsx",[],"/home/project/photobook/photobook_front/src/components/frame-layout-options/index.tsx",[],"/home/project/photobook/photobook_front/src/components/card-table/index.tsx",[],"/home/project/photobook/photobook_front/src/components/promp_layout/index.tsx",[],"/home/project/photobook/photobook_front/src/components/prompt/index.tsx",[],"/home/project/photobook/photobook_front/src/components/form-modal/index.tsx",[],"/home/project/photobook/photobook_front/src/components/loading/index.tsx",[],"/home/project/photobook/photobook_front/src/components/empty/index.tsx",[],"/home/project/photobook/photobook_front/src/components/router/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/index.ts",[],"/home/project/photobook/photobook_front/src/components/card-table/settings.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/social-proof/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/features/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/image-carousel/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/hero/index.tsx",[],"/home/project/photobook/photobook_front/src/page-components/landing-page/show-case-products/index.tsx",[],"/home/project/photobook/photobook_front/src/configs/index.tsx",[],"/home/project/photobook/photobook_front/src/redux/reducers/editor.ts",[],"/home/project/photobook/photobook_front/src/redux/reducers/project.ts",[],"/home/project/photobook/photobook_front/src/redux/reducers/handlers.ts",["566","567","568","569","570","571","572","573","574","575","576","577","578","579","580"],"import { BackgroundImage, Container, HistoryInterface, ProjectInterface, Slide } from 'interfaces'\nimport { Insert } from 'utils'\nimport {\n  ADD_LAYOUT,\n  ADD_OBJECT,\n  REMOVE_OBJECT,\n  SET_BACKGROUNDS,\n  UPDATE_BACKGROUND,\n  UPDATE_GROUP_CONTAINER,\n  UPDATE_OBJECT,\n} from '../actions/types'\n\nconst setSlideDimensionHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { bgStyles, slideWidth, slideHeight } = payload\n  return {\n    ...state,\n    bgStyles,\n    slideWidth,\n    slideHeight,\n    loading: false,\n  }\n}\n\n// #region [ProjectHandlers]\nconst updateProjectsHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  return {\n    ...state,\n    currentProject: {\n      ...state.currentProject,\n      ...payload,\n    },\n    fetching: false,\n  }\n}\n\nconst setCurrentProjectHandler = (state: ProjectInterface, action: any) => {\n  return {\n    ...state,\n    currentProject: action.payload,\n    loading: false,\n    fetching: false,\n  }\n}\n\nconst saveProjectHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  state.currentProject.slides.map((s: Slide) => {\n    if (s.slideId === payload.slideId) {\n      return payload\n    }\n    return s\n  })\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst saveProjectAttHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n  state.currentProject = { ...state.currentProject, ...payload }\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst newSlideHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n  Insert(state.currentProject.slides, payload.slideIndex, payload.slide)\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst reOrderSlideHandler = (state: ProjectInterface, action: any) => {\n  const {\n    payload: { slides },\n  } = action\n  console.log('SDAVE', action)\n\n  state.currentProject.slides = slides\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst duplicateSlideHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n  console.log('SDAVE', action)\n  state.currentProject.slides = [...state.currentProject.slides, state.currentProject.slides[payload]]\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst deleteSlideHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n  state.currentProject.slides.splice(payload, 1)\n  return {\n    ...state,\n    loading: false,\n  }\n}\n// #region [ProjectHandlers]\n\n// #region [ObjectHandler]\nconst loadObjectsHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  return {\n    ...state,\n    objects: payload,\n  }\n}\n// #endregion [ObjectHandler]\n\nconst loadContainersHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  return {\n    ...state,\n    containers: payload,\n  }\n}\nconst clearProject = (state: ProjectInterface) => {\n  return {\n    ...state,\n    fetching: true,\n  }\n}\nconst loadBackgroundsHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  return {\n    ...state,\n    backgrounds: payload,\n  }\n}\n\nconst loadErrorHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  console.log('load error')\n  console.log(payload)\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst updateHistoryHandler = (state: ProjectInterface, action: { payload: HistoryInterface }) => {\n  const { payload } = action\n  return {\n    ...state,\n    undoHistory: [...state.undoHistory, payload],\n    loading: false,\n  }\n}\n\nconst updateContainerHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { container } = payload\n\n  console.log('update container')\n  console.log('container')\n  console.log(container)\n\n  return {\n    ...state,\n    containers: state.containers.map((x: any) => {\n      if (x.id === container.id) return container\n      return x\n    }),\n    loading: false,\n  }\n}\n\nconst updateGroupContainerHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { containers }: { containers: Container[] } = payload\n\n  return {\n    ...state,\n    containers: state.containers.map((c: Container) => {\n      const updated = containers.find((x: Container) => c.id === x.id)\n      if (updated) return updated\n      return c\n    }),\n    loading: false,\n  }\n}\n\nconst updateObjectHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { object } = payload\n\n  console.log('update object')\n  console.log('object')\n  console.log(object)\n\n  return {\n    ...state,\n    objects: state.objects.map((x: any) => {\n      if (x.id === object.id) return object\n      return x\n    }),\n    loading: false,\n  }\n}\n\nconst updateBackgroundHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { background }: { background: BackgroundImage } = payload\n\n  return {\n    ...state,\n    backgrounds: state.backgrounds.map((x: BackgroundImage) => {\n      if (x.className === background.className) return { ...x, ...background }\n      return x\n    }),\n    loading: false,\n  }\n}\n\nconst setBackgroundsHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { backgrounds }: { backgrounds: BackgroundImage[] } = payload\n\n  return {\n    ...state,\n    backgrounds: state.backgrounds.map((x: BackgroundImage) => {\n      const [bg] = backgrounds.filter((b: BackgroundImage) => x.className === b.className)\n      if (bg) return bg\n      return x\n    }),\n    loading: false,\n  }\n}\n\nconst addLayoutHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { objects, layout } = payload\n\n  console.log('layout')\n  console.log(layout)\n\n  return {\n    ...state,\n    objects,\n    layout,\n    loading: false,\n  }\n}\n\nconst addObjectHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { object } = payload\n\n  return {\n    ...state,\n    objects: [...state.objects, object],\n    loading: false,\n  }\n}\n\nconst removeObjectHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  const { object, container } = payload\n\n  return {\n    ...state,\n    objects: state.objects.filter((x: any) => x.id !== object.id),\n    containers: state.containers.filter((x: any) => x.id !== container.id),\n    loading: false,\n  }\n}\n\nconst undoHandler = (state: ProjectInterface) => {\n  const undo = state.undoHistory.pop()\n  if (undo) {\n    const { historyType, props } = undo\n\n    if (historyType === ADD_OBJECT) {\n      const { object } = props\n      return {\n        ...state,\n        objects: state.objects.filter((x: any) => x.id !== object?.id),\n        redoHistory: [...state.redoHistory, undo],\n        loading: false,\n      }\n    } else if (historyType === ADD_LAYOUT) {\n      const { objects, layout } = props\n      return {\n        ...state,\n        objects,\n        layout,\n        redoHistory: [\n          ...state.redoHistory,\n          {\n            historyType: ADD_LAYOUT,\n            props: { objects: state.objects, layout: state.layout },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === REMOVE_OBJECT) {\n      const { object, container } = props\n      return {\n        ...state,\n        objects: [...state.objects, object],\n        containers: [...state.containers, container],\n        redoHistory: [...state.redoHistory, undo],\n        loading: false,\n      }\n    } else if (historyType === SET_BACKGROUNDS) {\n      const { backgrounds } = props\n      return {\n        ...state,\n        backgrounds,\n        redoHistory: [\n          ...state.redoHistory,\n          {\n            historyType: SET_BACKGROUNDS,\n            props: { backgrounds: state.backgrounds },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_BACKGROUND) {\n      const { background } = props\n\n      const [currentBackground] = state.backgrounds.filter(\n        (b: BackgroundImage) => b.className === background?.className\n      )\n\n      return {\n        ...state,\n        backgrounds: state.backgrounds.map((b: BackgroundImage) => {\n          if (b.className === background?.className) {\n            return {\n              ...b,\n              ...background,\n            }\n          }\n          return b\n        }),\n        redoHistory: [\n          ...state.redoHistory,\n          {\n            historyType: UPDATE_BACKGROUND,\n            props: { background: currentBackground },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_GROUP_CONTAINER) {\n      const { containers } = props\n\n      const currentContainers: Container[] = state.containers.filter((x: any) =>\n        containers?.find((c: Container) => c.id === x.id)\n      )\n\n      return {\n        ...state,\n        containers: state.containers.map((c: Container) => {\n          const updated = containers?.find((x: Container) => c.id === x.id)\n          if (updated) return updated\n          return c\n        }),\n        redoHistory: [\n          ...state.redoHistory,\n          {\n            historyType: UPDATE_GROUP_CONTAINER,\n            props: { containers: currentContainers },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_OBJECT) {\n      const { object } = props\n\n      const [currentObject] = state.objects.filter((o: any) => o.id === object?.id)\n\n      return {\n        ...state,\n        objects: state.objects.map((x: any) => {\n          if (x.id === object?.id) return object\n          return x\n        }),\n        redoHistory: [\n          ...state.redoHistory,\n          {\n            historyType: UPDATE_OBJECT,\n            props: { object: currentObject },\n          },\n        ],\n        loading: false,\n      }\n    }\n  }\n\n  return false\n}\n\nconst redoHandler = (state: ProjectInterface) => {\n  console.log(state)\n  const redo = state.redoHistory.pop()\n  if (redo) {\n    const { historyType, props } = redo\n    if (historyType === ADD_OBJECT) {\n      const { object, container } = props\n      return {\n        ...state,\n        objects: [...state.objects, object],\n        containers: [...state.containers, container],\n        undoHistory: [...state.undoHistory, redo],\n        loading: false,\n      }\n    } else if (historyType === ADD_LAYOUT) {\n      const { objects, layout } = props\n\n      return {\n        ...state,\n        objects,\n        layout,\n        undoHistory: [\n          ...state.undoHistory,\n          {\n            historyType: ADD_LAYOUT,\n            props: { objects: state.objects, layout: state.layout },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === REMOVE_OBJECT) {\n      const { object, container } = props\n      return {\n        ...state,\n        objects: state.objects.filter((x: any) => x.id !== object?.id),\n        containers: state.containers.filter((x: any) => x.id !== container?.id),\n        undoHistory: [...state.undoHistory, redo],\n        loading: false,\n      }\n    } else if (historyType === SET_BACKGROUNDS) {\n      const { backgrounds } = props\n      return {\n        ...state,\n        backgrounds,\n        undoHistory: [\n          ...state.undoHistory,\n          {\n            historyType: SET_BACKGROUNDS,\n            props: { backgrounds: state.backgrounds },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_BACKGROUND) {\n      const { background } = props\n\n      const [currentBackground] = state.backgrounds.filter(\n        (b: BackgroundImage) => b.className === background?.className\n      )\n\n      return {\n        ...state,\n        backgrounds: state.backgrounds.map((b: BackgroundImage) => {\n          if (b.className === background?.className) {\n            return {\n              ...b,\n              ...background,\n            }\n          }\n          return b\n        }),\n        undoHistory: [\n          ...state.undoHistory,\n          {\n            historyType: UPDATE_BACKGROUND,\n            props: { background: currentBackground },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_GROUP_CONTAINER) {\n      const { containers } = props\n\n      const currentContainers: Container[] = state.containers.filter((x: any) =>\n        containers?.find((c: Container) => c.id === x.id)\n      )\n\n      return {\n        ...state,\n        containers: state.containers.map((c: Container) => {\n          const updated = containers?.find((x: Container) => c.id === x.id)\n          if (updated) return updated\n          return c\n        }),\n        undoHistory: [\n          ...state.undoHistory,\n          {\n            historyType: UPDATE_GROUP_CONTAINER,\n            props: { containers: currentContainers },\n          },\n        ],\n        loading: false,\n      }\n    } else if (historyType === UPDATE_OBJECT) {\n      const { object } = props\n\n      const [currentObject] = state.objects.filter((o: any) => o.id === object?.id)\n\n      return {\n        ...state,\n        objects: state.objects.map((x: any) => {\n          if (x.id === object?.id) return object\n          return x\n        }),\n        undoHistory: [\n          ...state.undoHistory,\n          {\n            historyType: UPDATE_OBJECT,\n            props: { object: currentObject },\n          },\n        ],\n        loading: false,\n      }\n    }\n  }\n  return false\n}\n\nconst slidesErrorHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  console.error('SLIDES_ERROR: ' + payload)\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nconst projectsErrorHandler = (state: ProjectInterface, action: any) => {\n  const { payload } = action\n\n  console.error('PROJECTS_ERROR: ' + payload)\n  return {\n    ...state,\n    loading: false,\n  }\n}\n\nexport default {\n  updateProjectsHandler,\n  setCurrentProjectHandler,\n  setSlideDimensionHandler,\n  saveProjectHandler,\n  saveProjectAttHandler,\n  newSlideHandler,\n  deleteSlideHandler,\n  loadObjectsHandler,\n  loadContainersHandler,\n  loadBackgroundsHandler,\n  clearProject,\n  loadErrorHandler,\n  updateContainerHandler,\n  updateGroupContainerHandler,\n  updateBackgroundHandler,\n  updateObjectHandler,\n  setBackgroundsHandler,\n  updateHistoryHandler,\n  addLayoutHandler,\n  addObjectHandler,\n  removeObjectHandler,\n  undoHandler,\n  redoHandler,\n  slidesErrorHandler,\n  reOrderSlideHandler,\n  duplicateSlideHandler,\n  projectsErrorHandler,\n}\n","/home/project/photobook/photobook_front/src/layouts/index.tsx",[],"/home/project/photobook/photobook_front/src/pages/not-found/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/public/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/footer.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/header.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/components/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/components/HeaderMenu/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/components/language-switch/index.tsx",[],"/home/project/photobook/photobook_front/src/layouts/main/components/user-info/index.tsx",["581"],"import { LogoutOutlined } from '@ant-design/icons'\nimport { Avatar, Button, Popover } from 'antd'\nimport { useDispatch } from 'react-redux'\nimport React, { useState } from 'react'\nimport { FormattedMessage, useIntl } from 'react-intl'\nimport { LOGOUT } from 'redux/actions/types'\nimport { useHistory } from 'react-router'\nimport styles from './styles.module.scss'\n\ninterface Props {\n  avatarUrl: string | null\n}\n\nconst UserInfo: React.FC<Props> = ({ avatarUrl }) => {\n  const [visible, setVisible] = useState(false)\n  const history = useHistory()\n  const intl = useIntl()\n  const dispatch = useDispatch()\n  return (\n    <Popover\n      trigger=\"click\"\n      visible={visible}\n      placement=\"bottomRight\"\n      content={\n        <div className=\"flex flex-col gap-2\">\n          <button\n            className=\"btn-primary\"\n            type=\"button\"\n            onClick={() => {\n              setVisible(false)\n              history.push('/profile')\n            }}\n          >\n            <FormattedMessage id=\"profile\" />\n          </button>\n\n          <button\n            className=\"btn-cancel\"\n            type=\"button\"\n            onClick={() => {\n              setVisible(false)\n              dispatch({ type: LOGOUT })\n            }}\n          >\n            {intl.formatMessage({ id: 'log-out' })}\n          </button>\n        </div>\n      }\n    >\n      <Button type=\"link\" className={styles.avatar} onClick={() => setVisible((prev) => !prev)}>\n        <Avatar shape=\"square\" size=\"small\" src={avatarUrl} style={{ backgroundColor: '#0666b3' }} alt=\"user-avatar\" />\n      </Button>\n    </Popover>\n  )\n}\n\nexport default UserInfo\n","/home/project/photobook/photobook_front/src/pages/editor/components/layout/upload-modal/index.tsx",["582","583","584"],"/* eslint @typescript-eslint/no-explicit-any: off */\nimport useRequest from '@ahooksjs/use-request'\nimport { Button, Checkbox, Grid, Modal, Select, Spin } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\nimport { getFacebookAlbums, getFacebookImages, getFacebookProfile, getGoogleImages, getGoogleProfile } from 'api'\nimport {\n  FacebookAlbum,\n  FacebookPicture,\n  FacebookProfile,\n  GooglePicture,\n  GoogleProfile,\n  UploadablePicture,\n} from 'interfaces'\nimport React, { useEffect, useState } from 'react'\nimport { FormattedMessage, useIntl } from 'react-intl'\n\ninterface Props extends ModalProps {\n  type?: 'wide' | 'default' | 'full' | 'fwide'\n  name: 'facebook' | 'google'\n  loading: boolean\n  okDisable?: boolean\n  cancelDisable?: boolean\n  onUpload: (images: any) => void\n}\n\nconst UploadModal: React.FC<Props> = ({\n  name,\n  children,\n  loading,\n  okText,\n  cancelText,\n  onCancel,\n  onUpload,\n  type = 'default',\n  okDisable = false,\n  cancelDisable = false,\n  ...props\n}) => {\n  const [selectedAlbum, setSelectedAlbum] = useState<string>('')\n  const [selectedImages, setSelectedImages] = useState<any[]>()\n  const intl = useIntl()\n  const screens = Grid.useBreakpoint()\n  const profile = useRequest<FacebookProfile | GoogleProfile>((e) => e && e(), {\n    manual: true,\n  })\n  const images = useRequest<FacebookPicture[] | GooglePicture[]>((e, album) => e(album), {\n    manual: true,\n    refreshDeps: [selectedAlbum],\n  })\n\n  const albums = useRequest<FacebookAlbum[]>(getFacebookAlbums, {\n    manual: true,\n    onSuccess: (_albums) => {\n      setSelectedAlbum(_albums[0].id)\n      images.run(getFacebookImages, _albums[0].id)\n    },\n  })\n\n  const calcWidth = () => {\n    switch (type) {\n      case 'wide':\n        if (screens.xl) {\n          return '60%'\n        }\n        if (screens.md) {\n          return '80%'\n        }\n        return '100%'\n      case 'fwide':\n        if (screens.xl) {\n          return '85%'\n        }\n        if (screens.md) {\n          return '90%'\n        }\n        return '100%'\n      case 'full':\n        return '100%'\n      default:\n        return undefined\n    }\n  }\n\n  const removeFacebook = (_event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    localStorage.removeItem('facebookAccessToken')\n    if (onCancel) {\n      onCancel(_event)\n    }\n  }\n\n  const removeGoogle = (_event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    localStorage.removeItem('googleAccessToken')\n    if (onCancel) {\n      onCancel(_event)\n    }\n  }\n\n  useEffect(() => {\n    const getData = (storage: any) => {\n      switch (name) {\n        case 'facebook':\n          if (storage?.getItem('facebookAccessToken')) {\n            profile.run(getFacebookProfile)\n            images.run(getFacebookImages, selectedAlbum)\n            albums.run()\n          }\n          break\n        case 'google':\n          if (storage?.getItem('googleAccessToken')) {\n            profile.run(getGoogleProfile)\n            images.run(getGoogleImages, '')\n          }\n          break\n        default:\n          break\n      }\n    }\n    const storageListener = (event: StorageEvent) => {\n      getData(event.storageArea)\n    }\n    getData(localStorage)\n    window.addEventListener('storage', storageListener)\n    return () => {\n      window.removeEventListener('storage', storageListener)\n    }\n  }, [name])\n\n  const facebookHeader = (_profile: FacebookProfile) => (\n    <div className=\"w-full flex\">\n      <div className=\"w-full flex items-center justify-between\">\n        <div className=\"2xl:w-1/3 xl:w-1/2 lg:w-1/2 md:w-1/3 sm:w-1/2\">\n          <Select\n            value={selectedAlbum}\n            className=\"w-full\"\n            onChange={(e) => {\n              setSelectedAlbum(`${e}`)\n              images.run(getFacebookImages, e)\n            }}\n          >\n            {albums.data?.map((album) => (\n              <Select.Option key={album.id} value={album.id}>\n                {album.name}\n              </Select.Option>\n            ))}\n          </Select>\n        </div>\n        <div className=\"2xl:w-1/3 xl:w-1/2 lg:w-1/2 md:w-1/2 sm:w-1/2 flex justify-around\">\n          <Button onClick={removeFacebook}>\n            <FormattedMessage id=\"logout.facebook\" />\n          </Button>\n          <div className=\"text-right\">\n            <FormattedMessage\n              id=\"logged_as\"\n              values={{\n                name: (\n                  <>\n                    <br />\n                    <span>{`${_profile?.first_name} ${_profile?.last_name}`}</span>\n                  </>\n                ),\n              }}\n            />\n          </div>\n          <img src={_profile?.picture.data.url} alt=\"profile\" width=\"40\" className=\"rounded-full\" />\n        </div>\n      </div>\n    </div>\n  )\n\n  const googleHeader = (_profile: GoogleProfile) => (\n    <div className=\"w-full flex\">\n      <div className=\"w-full flex items-center justify-end\">\n        <div className=\"2xl:w-1/3 xl:w-1/2 lg:w-1/2 md:w-1/2 sm:w-1/2 flex justify-around\">\n          <Button onClick={removeGoogle}>\n            <FormattedMessage id=\"logout.google\" />\n          </Button>\n          <div className=\"text-right\">\n            <FormattedMessage\n              id=\"logged_as\"\n              values={{\n                name: (\n                  <>\n                    <br />\n                    <span>{`${_profile?.email}`}</span>\n                  </>\n                ),\n              }}\n            />\n          </div>\n          <img src={_profile?.picture} alt=\"profile\" width=\"40\" className=\"rounded-full\" />\n        </div>\n      </div>\n    </div>\n  )\n\n  const header = () => {\n    if (profile.data) {\n      switch (name) {\n        case 'facebook':\n          return facebookHeader(profile.data as FacebookProfile)\n        case 'google':\n          return googleHeader(profile.data as GoogleProfile)\n        default:\n          return <div />\n      }\n    }\n    return <div />\n  }\n\n  const googleBody = (_images: GooglePicture[]) =>\n    _images?.map((image) => (\n      <Checkbox key={image.id} value={image.id} className=\"w-24 h-24\">\n        <img src={image.baseUrl} className=\"object-cover\" alt={image.id} />\n      </Checkbox>\n    ))\n\n  const facebookBody = (_images: FacebookPicture[]) =>\n    _images?.map((image) => (\n      <Checkbox key={image.id} value={image.id} className=\"w-24 h-24\">\n        <img src={image.picture} className=\"object-cover\" alt={image.id} />\n      </Checkbox>\n    ))\n\n  const body = () => {\n    if (profile.data) {\n      switch (name) {\n        case 'facebook':\n          return facebookBody(images.data as FacebookPicture[])\n        case 'google':\n          return googleBody(images.data as GooglePicture[])\n        default:\n          return <div />\n      }\n    }\n    return <div />\n  }\n\n  return (\n    <Modal\n      {...props}\n      style={{ top: '1rem' }}\n      width={calcWidth()}\n      closable={false}\n      maskClosable={false}\n      onCancel={onCancel}\n      footer={[\n        <Button\n          key=\"submit\"\n          disabled={okDisable}\n          type=\"primary\"\n          onClick={(e) => {\n            onUpload(selectedImages)\n            if (onCancel) onCancel(e)\n          }}\n          loading={loading}\n        >\n          {okText || intl.formatMessage({ id: 'upload' })}\n        </Button>,\n        <Button key=\"close\" disabled={cancelDisable} onClick={onCancel}>\n          {cancelText || intl.formatMessage({ id: 'close' })}\n        </Button>,\n      ]}\n    >\n      {loading || profile.loading || images.loading ? (\n        <Spin spinning>\n          <div style={{ height: 150 }} />\n        </Spin>\n      ) : (\n        <>\n          <div>{header()}</div>\n          <div>\n            <Checkbox.Group\n              onChange={(list) => {\n                if (name === 'google') {\n                  setSelectedImages(\n                    (images.data as GooglePicture[])\n                      .filter((a) => list.includes(a.id))\n                      .map<UploadablePicture>((each) => ({\n                        url: each.baseUrl,\n                        filename: each.filename,\n                        mimeType: each.mimeType,\n                      }))\n                  )\n                } else if (name === 'facebook') {\n                  setSelectedImages(\n                    (images.data as FacebookPicture[])\n                      .filter((a) => list.includes(a.id))\n                      .map<UploadablePicture>((each) => ({\n                        url: each.images[0].source,\n                        filename: each.id,\n                        mimeType: 'JPG',\n                      }))\n                  )\n                }\n              }}\n            >\n              {body()}\n            </Checkbox.Group>\n          </div>\n        </>\n      )}\n    </Modal>\n  )\n}\n\nexport default UploadModal\n",{"ruleId":"585","replacedBy":"586"},{"ruleId":"587","replacedBy":"588"},{"ruleId":"589","replacedBy":"590"},{"ruleId":"591","replacedBy":"592"},{"ruleId":"593","replacedBy":"594"},{"ruleId":"595","severity":1,"message":"596","line":2,"column":10,"nodeType":"597","messageId":"598","endLine":2,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":23,"column":5,"nodeType":"601","messageId":"602","endLine":23,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":24,"column":5,"nodeType":"601","messageId":"602","endLine":24,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":56,"column":9,"nodeType":"601","messageId":"602","endLine":56,"endColumn":20},{"ruleId":"599","severity":1,"message":"600","line":57,"column":9,"nodeType":"601","messageId":"602","endLine":57,"endColumn":20},{"ruleId":"599","severity":1,"message":"600","line":86,"column":7,"nodeType":"601","messageId":"602","endLine":86,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":87,"column":7,"nodeType":"601","messageId":"602","endLine":87,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":108,"column":5,"nodeType":"601","messageId":"602","endLine":108,"endColumn":16},{"ruleId":"595","severity":1,"message":"603","line":109,"column":20,"nodeType":"597","messageId":"598","endLine":109,"endColumn":31},{"ruleId":"595","severity":1,"message":"604","line":110,"column":10,"nodeType":"597","messageId":"598","endLine":110,"endColumn":19},{"ruleId":"595","severity":1,"message":"605","line":110,"column":21,"nodeType":"597","messageId":"598","endLine":110,"endColumn":33},{"ruleId":"595","severity":1,"message":"606","line":111,"column":21,"nodeType":"597","messageId":"598","endLine":111,"endColumn":33},{"ruleId":"595","severity":1,"message":"607","line":112,"column":10,"nodeType":"597","messageId":"598","endLine":112,"endColumn":21},{"ruleId":"595","severity":1,"message":"608","line":112,"column":23,"nodeType":"597","messageId":"598","endLine":112,"endColumn":37},{"ruleId":"595","severity":1,"message":"609","line":113,"column":10,"nodeType":"597","messageId":"598","endLine":113,"endColumn":18},{"ruleId":"595","severity":1,"message":"610","line":113,"column":20,"nodeType":"597","messageId":"598","endLine":113,"endColumn":31},{"ruleId":"595","severity":1,"message":"611","line":114,"column":10,"nodeType":"597","messageId":"598","endLine":114,"endColumn":15},{"ruleId":"595","severity":1,"message":"612","line":114,"column":17,"nodeType":"597","messageId":"598","endLine":114,"endColumn":25},{"ruleId":"599","severity":1,"message":"600","line":836,"column":7,"nodeType":"601","messageId":"602","endLine":836,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":837,"column":7,"nodeType":"601","messageId":"602","endLine":837,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":839,"column":7,"nodeType":"601","messageId":"602","endLine":839,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":840,"column":7,"nodeType":"601","messageId":"602","endLine":840,"endColumn":18},{"ruleId":"595","severity":1,"message":"613","line":26,"column":10,"nodeType":"597","messageId":"598","endLine":26,"endColumn":18},{"ruleId":"595","severity":1,"message":"614","line":58,"column":3,"nodeType":"597","messageId":"598","endLine":58,"endColumn":11},{"ruleId":"595","severity":1,"message":"615","line":29,"column":16,"nodeType":"597","messageId":"598","endLine":29,"endColumn":23},{"ruleId":"599","severity":1,"message":"600","line":148,"column":7,"nodeType":"601","messageId":"602","endLine":148,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":176,"column":7,"nodeType":"601","messageId":"602","endLine":176,"endColumn":20},{"ruleId":"599","severity":1,"message":"600","line":192,"column":5,"nodeType":"601","messageId":"602","endLine":192,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":208,"column":5,"nodeType":"601","messageId":"602","endLine":208,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":224,"column":5,"nodeType":"601","messageId":"602","endLine":224,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":333,"column":5,"nodeType":"601","messageId":"602","endLine":333,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":334,"column":5,"nodeType":"601","messageId":"602","endLine":334,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":350,"column":5,"nodeType":"601","messageId":"602","endLine":350,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":351,"column":5,"nodeType":"601","messageId":"602","endLine":351,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":367,"column":5,"nodeType":"601","messageId":"602","endLine":367,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":368,"column":5,"nodeType":"601","messageId":"602","endLine":368,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":384,"column":5,"nodeType":"601","messageId":"602","endLine":384,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":385,"column":5,"nodeType":"601","messageId":"602","endLine":385,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":395,"column":3,"nodeType":"601","messageId":"602","endLine":395,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":402,"column":5,"nodeType":"601","messageId":"602","endLine":402,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":403,"column":5,"nodeType":"601","messageId":"602","endLine":403,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":436,"column":5,"nodeType":"601","messageId":"602","endLine":436,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":437,"column":5,"nodeType":"601","messageId":"602","endLine":437,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":455,"column":5,"nodeType":"601","messageId":"602","endLine":455,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":456,"column":5,"nodeType":"601","messageId":"602","endLine":456,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":471,"column":5,"nodeType":"601","messageId":"602","endLine":471,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":472,"column":5,"nodeType":"601","messageId":"602","endLine":472,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":487,"column":5,"nodeType":"601","messageId":"602","endLine":487,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":488,"column":5,"nodeType":"601","messageId":"602","endLine":488,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":16,"column":7,"nodeType":"601","messageId":"602","endLine":16,"endColumn":18},{"ruleId":"599","severity":1,"message":"600","line":53,"column":11,"nodeType":"601","messageId":"602","endLine":53,"endColumn":22},{"ruleId":"599","severity":1,"message":"600","line":74,"column":11,"nodeType":"601","messageId":"602","endLine":74,"endColumn":22},{"ruleId":"595","severity":1,"message":"616","line":3,"column":17,"nodeType":"597","messageId":"598","endLine":3,"endColumn":34},{"ruleId":"599","severity":1,"message":"600","line":86,"column":3,"nodeType":"601","messageId":"602","endLine":86,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":97,"column":3,"nodeType":"601","messageId":"602","endLine":97,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":152,"column":3,"nodeType":"601","messageId":"602","endLine":152,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":153,"column":3,"nodeType":"601","messageId":"602","endLine":153,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":174,"column":3,"nodeType":"601","messageId":"602","endLine":174,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":175,"column":3,"nodeType":"601","messageId":"602","endLine":175,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":176,"column":3,"nodeType":"601","messageId":"602","endLine":176,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":209,"column":3,"nodeType":"601","messageId":"602","endLine":209,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":210,"column":3,"nodeType":"601","messageId":"602","endLine":210,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":211,"column":3,"nodeType":"601","messageId":"602","endLine":211,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":259,"column":3,"nodeType":"601","messageId":"602","endLine":259,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":260,"column":3,"nodeType":"601","messageId":"602","endLine":260,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":423,"column":3,"nodeType":"601","messageId":"602","endLine":423,"endColumn":14},{"ruleId":"599","severity":1,"message":"600","line":553,"column":3,"nodeType":"601","messageId":"602","endLine":553,"endColumn":16},{"ruleId":"599","severity":1,"message":"600","line":563,"column":3,"nodeType":"601","messageId":"602","endLine":563,"endColumn":16},{"ruleId":"595","severity":1,"message":"617","line":1,"column":10,"nodeType":"597","messageId":"598","endLine":1,"endColumn":24},{"ruleId":"618","severity":1,"message":"619","line":2,"column":1,"nodeType":"620","endLine":2,"endColumn":47},{"ruleId":"595","severity":1,"message":"621","line":28,"column":3,"nodeType":"597","messageId":"598","endLine":28,"endColumn":11},{"ruleId":"622","severity":1,"message":"623","line":126,"column":6,"nodeType":"624","endLine":126,"endColumn":12,"suggestions":"625"},"lines-around-directive",["626"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"@typescript-eslint/no-unused-vars","'Auth' is defined but never used.","Identifier","unusedVar","no-console","Unexpected console statement.","MemberExpression","unexpected","'setTemplate' is assigned a value but never used.","'coverType' is assigned a value but never used.","'setCoverType' is assigned a value but never used.","'setPaperSize' is assigned a value but never used.","'bindingType' is assigned a value but never used.","'setBindingType' is assigned a value but never used.","'material' is assigned a value but never used.","'setMaterial' is assigned a value but never used.","'color' is assigned a value but never used.","'setColor' is assigned a value but never used.","'s3Upload' is defined but never used.","'addImage' is defined but never used.","'setSort' is assigned a value but never used.","'UploadablePicture' is defined but never used.","'LogoutOutlined' is defined but never used.","import/no-extraneous-dependencies","'@ahooksjs/use-request' should be listed in the project's dependencies. Run 'npm i -S @ahooksjs/use-request' to add it","ImportDeclaration","'children' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'albums', 'images', 'profile', and 'selectedAlbum'. Either include them or remove the dependency array.","ArrayExpression",["627"],"padding-line-between-statements",{"desc":"628","fix":"629"},"Update the dependencies array to be: [albums, images, name, profile, selectedAlbum]",{"range":"630","text":"631"},[3308,3314],"[albums, images, name, profile, selectedAlbum]"]